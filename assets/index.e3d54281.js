var Li=Object.defineProperty;var ji=(t,e,n)=>e in t?Li(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Yt=(t,e,n)=>(ji(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const At=window,In=At.ShadowRoot&&(At.ShadyCSS===void 0||At.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Bn=Symbol(),tr=new WeakMap;class Or{constructor(e,n,r){if(this._$cssResult$=!0,r!==Bn)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(In&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=tr.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&tr.set(n,e))}return e}toString(){return this.cssText}}const Xe=t=>new Or(typeof t=="string"?t:t+"",void 0,Bn),Kr=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,a)=>r+(s=>{if(s._$cssResult$===!0)return s.cssText;if(typeof s=="number")return s;throw Error("Value passed to 'css' function must be a 'css' function result: "+s+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[a+1],t[0]);return new Or(n,t,Bn)},Hi=(t,e)=>{In?t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):e.forEach(n=>{const r=document.createElement("style"),i=At.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)})},nr=In?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Xe(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Gt;const Pt=window,rr=Pt.trustedTypes,Ui=rr?rr.emptyScript:"",ir=Pt.reactiveElementPolyfillSupport,ln={toAttribute(t,e){switch(e){case Boolean:t=t?Ui:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},Mr=(t,e)=>e!==t&&(e==e||t==t),Qt={attribute:!0,type:String,converter:ln,reflect:!1,hasChanged:Mr};class Pe extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var n;this.finalize(),((n=this.h)!==null&&n!==void 0?n:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((n,r)=>{const i=this._$Ep(r,n);i!==void 0&&(this._$Ev.set(i,r),e.push(i))}),e}static createProperty(e,n=Qt){if(n.state&&(n.attribute=!1),this.finalize(),this.elementProperties.set(e,n),!n.noAccessor&&!this.prototype.hasOwnProperty(e)){const r=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){return{get(){return this[n]},set(i){const a=this[e];this[n]=i,this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||Qt}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const n=this.properties,r=[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)];for(const i of r)this.createProperty(i,n[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(nr(i))}else e!==void 0&&n.push(nr(e));return n}static _$Ep(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(n=>n(this))}addController(e){var n,r;((n=this._$ES)!==null&&n!==void 0?n:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var n;(n=this._$ES)===null||n===void 0||n.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,n)=>{this.hasOwnProperty(n)&&(this._$Ei.set(n,this[n]),delete this[n])})}createRenderRoot(){var e;const n=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return Hi(n,this.constructor.elementStyles),n}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostConnected)===null||r===void 0?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostDisconnected)===null||r===void 0?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$EO(e,n,r=Qt){var i;const a=this.constructor._$Ep(e,r);if(a!==void 0&&r.reflect===!0){const s=(((i=r.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?r.converter:ln).toAttribute(n,r.type);this._$El=e,s==null?this.removeAttribute(a):this.setAttribute(a,s),this._$El=null}}_$AK(e,n){var r;const i=this.constructor,a=i._$Ev.get(e);if(a!==void 0&&this._$El!==a){const s=i.getPropertyOptions(a),o=typeof s.converter=="function"?{fromAttribute:s.converter}:((r=s.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?s.converter:ln;this._$El=a,this[a]=o.fromAttribute(n,s.type),this._$El=null}}requestUpdate(e,n,r){let i=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||Mr)(this[e],n)?(this._$AL.has(e)||this._$AL.set(e,n),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,a)=>this[a]=i),this._$Ei=void 0);let n=!1;const r=this._$AL;try{n=this.shouldUpdate(r),n?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(i=>{var a;return(a=i.hostUpdate)===null||a===void 0?void 0:a.call(i)}),this.update(r)):this._$Ek()}catch(i){throw n=!1,this._$Ek(),i}n&&this._$AE(r)}willUpdate(e){}_$AE(e){var n;(n=this._$ES)===null||n===void 0||n.forEach(r=>{var i;return(i=r.hostUpdated)===null||i===void 0?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((n,r)=>this._$EO(r,this[r],n)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}Pe.finalized=!0,Pe.elementProperties=new Map,Pe.elementStyles=[],Pe.shadowRootOptions={mode:"open"},ir==null||ir({ReactiveElement:Pe}),((Gt=Pt.reactiveElementVersions)!==null&&Gt!==void 0?Gt:Pt.reactiveElementVersions=[]).push("1.4.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Xt;const Dt=window,Ke=Dt.trustedTypes,ar=Ke?Ke.createPolicy("lit-html",{createHTML:t=>t}):void 0,pe=`lit$${(Math.random()+"").slice(9)}$`,Ir="?"+pe,Vi=`<${Ir}>`,Me=document,qe=(t="")=>Me.createComment(t),Je=t=>t===null||typeof t!="object"&&typeof t!="function",Br=Array.isArray,zi=t=>Br(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",Ue=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,sr=/-->/g,or=/>/g,_e=RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),ur=/'/g,lr=/"/g,Nr=/^(?:script|style|textarea|title)$/i,Wi=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),Yi=Wi(1),ye=Symbol.for("lit-noChange"),L=Symbol.for("lit-nothing"),cr=new WeakMap,Re=Me.createTreeWalker(Me,129,null,!1),Gi=(t,e)=>{const n=t.length-1,r=[];let i,a=e===2?"<svg>":"",s=Ue;for(let u=0;u<n;u++){const l=t[u];let f,c,h=-1,y=0;for(;y<l.length&&(s.lastIndex=y,c=s.exec(l),c!==null);)y=s.lastIndex,s===Ue?c[1]==="!--"?s=sr:c[1]!==void 0?s=or:c[2]!==void 0?(Nr.test(c[2])&&(i=RegExp("</"+c[2],"g")),s=_e):c[3]!==void 0&&(s=_e):s===_e?c[0]===">"?(s=i!=null?i:Ue,h=-1):c[1]===void 0?h=-2:(h=s.lastIndex-c[2].length,f=c[1],s=c[3]===void 0?_e:c[3]==='"'?lr:ur):s===lr||s===ur?s=_e:s===sr||s===or?s=Ue:(s=_e,i=void 0);const p=s===_e&&t[u+1].startsWith("/>")?" ":"";a+=s===Ue?l+Vi:h>=0?(r.push(f),l.slice(0,h)+"$lit$"+l.slice(h)+pe+p):l+pe+(h===-2?(r.push(void 0),u):p)}const o=a+(t[n]||"<?>")+(e===2?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[ar!==void 0?ar.createHTML(o):o,r]};class Ze{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let a=0,s=0;const o=e.length-1,u=this.parts,[l,f]=Gi(e,n);if(this.el=Ze.createElement(l,r),Re.currentNode=this.el.content,n===2){const c=this.el.content,h=c.firstChild;h.remove(),c.append(...h.childNodes)}for(;(i=Re.nextNode())!==null&&u.length<o;){if(i.nodeType===1){if(i.hasAttributes()){const c=[];for(const h of i.getAttributeNames())if(h.endsWith("$lit$")||h.startsWith(pe)){const y=f[s++];if(c.push(h),y!==void 0){const p=i.getAttribute(y.toLowerCase()+"$lit$").split(pe),d=/([.?@])?(.*)/.exec(y);u.push({type:1,index:a,name:d[2],strings:p,ctor:d[1]==="."?Xi:d[1]==="?"?Ji:d[1]==="@"?Zi:Ht})}else u.push({type:6,index:a})}for(const h of c)i.removeAttribute(h)}if(Nr.test(i.tagName)){const c=i.textContent.split(pe),h=c.length-1;if(h>0){i.textContent=Ke?Ke.emptyScript:"";for(let y=0;y<h;y++)i.append(c[y],qe()),Re.nextNode(),u.push({type:2,index:++a});i.append(c[h],qe())}}}else if(i.nodeType===8)if(i.data===Ir)u.push({type:2,index:a});else{let c=-1;for(;(c=i.data.indexOf(pe,c+1))!==-1;)u.push({type:7,index:a}),c+=pe.length-1}a++}}static createElement(e,n){const r=Me.createElement("template");return r.innerHTML=e,r}}function Ie(t,e,n=t,r){var i,a,s,o;if(e===ye)return e;let u=r!==void 0?(i=n._$Co)===null||i===void 0?void 0:i[r]:n._$Cl;const l=Je(e)?void 0:e._$litDirective$;return(u==null?void 0:u.constructor)!==l&&((a=u==null?void 0:u._$AO)===null||a===void 0||a.call(u,!1),l===void 0?u=void 0:(u=new l(t),u._$AT(t,n,r)),r!==void 0?((s=(o=n)._$Co)!==null&&s!==void 0?s:o._$Co=[])[r]=u:n._$Cl=u),u!==void 0&&(e=Ie(t,u._$AS(t,e.values),u,r)),e}class Qi{constructor(e,n){this.u=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(e){var n;const{el:{content:r},parts:i}=this._$AD,a=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:Me).importNode(r,!0);Re.currentNode=a;let s=Re.nextNode(),o=0,u=0,l=i[0];for(;l!==void 0;){if(o===l.index){let f;l.type===2?f=new ct(s,s.nextSibling,this,e):l.type===1?f=new l.ctor(s,l.name,l.strings,this,e):l.type===6&&(f=new ea(s,this,e)),this.u.push(f),l=i[++u]}o!==(l==null?void 0:l.index)&&(s=Re.nextNode(),o++)}return a}p(e){let n=0;for(const r of this.u)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class ct{constructor(e,n,r,i){var a;this.type=2,this._$AH=L,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cm=(a=i==null?void 0:i.isConnected)===null||a===void 0||a}get _$AU(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cm}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Ie(this,e,n),Je(e)?e===L||e==null||e===""?(this._$AH!==L&&this._$AR(),this._$AH=L):e!==this._$AH&&e!==ye&&this.g(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):zi(e)?this.k(e):this.g(e)}O(e,n=this._$AB){return this._$AA.parentNode.insertBefore(e,n)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}g(e){this._$AH!==L&&Je(this._$AH)?this._$AA.nextSibling.data=e:this.T(Me.createTextNode(e)),this._$AH=e}$(e){var n;const{values:r,_$litType$:i}=e,a=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=Ze.createElement(i.h,this.options)),i);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.p(r);else{const s=new Qi(a,this),o=s.v(this.options);s.p(r),this.T(o),this._$AH=s}}_$AC(e){let n=cr.get(e.strings);return n===void 0&&cr.set(e.strings,n=new Ze(e)),n}k(e){Br(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const a of e)i===n.length?n.push(r=new ct(this.O(qe()),this.O(qe()),this,this.options)):r=n[i],r._$AI(a),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)===null||r===void 0||r.call(this,!1,!0,n);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cm=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}class Ht{constructor(e,n,r,i,a){this.type=1,this._$AH=L,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=a,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=L}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,n=this,r,i){const a=this.strings;let s=!1;if(a===void 0)e=Ie(this,e,n,0),s=!Je(e)||e!==this._$AH&&e!==ye,s&&(this._$AH=e);else{const o=e;let u,l;for(e=a[0],u=0;u<a.length-1;u++)l=Ie(this,o[r+u],n,u),l===ye&&(l=this._$AH[u]),s||(s=!Je(l)||l!==this._$AH[u]),l===L?e=L:e!==L&&(e+=(l!=null?l:"")+a[u+1]),this._$AH[u]=l}s&&!i&&this.j(e)}j(e){e===L?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}class Xi extends Ht{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===L?void 0:e}}const qi=Ke?Ke.emptyScript:"";class Ji extends Ht{constructor(){super(...arguments),this.type=4}j(e){e&&e!==L?this.element.setAttribute(this.name,qi):this.element.removeAttribute(this.name)}}class Zi extends Ht{constructor(e,n,r,i,a){super(e,n,r,i,a),this.type=5}_$AI(e,n=this){var r;if((e=(r=Ie(this,e,n,0))!==null&&r!==void 0?r:L)===ye)return;const i=this._$AH,a=e===L&&i!==L||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,s=e!==L&&(i===L||a);a&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n,r;typeof this._$AH=="function"?this._$AH.call((r=(n=this.options)===null||n===void 0?void 0:n.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}}class ea{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Ie(this,e)}}const fr=Dt.litHtmlPolyfillSupport;fr==null||fr(Ze,ct),((Xt=Dt.litHtmlVersions)!==null&&Xt!==void 0?Xt:Dt.litHtmlVersions=[]).push("2.4.0");const ta=(t,e,n)=>{var r,i;const a=(r=n==null?void 0:n.renderBefore)!==null&&r!==void 0?r:e;let s=a._$litPart$;if(s===void 0){const o=(i=n==null?void 0:n.renderBefore)!==null&&i!==void 0?i:null;a._$litPart$=s=new ct(e.insertBefore(qe(),o),o,void 0,n!=null?n:{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var qt,Jt;class We extends Pe{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,n;const r=super.createRenderRoot();return(e=(n=this.renderOptions).renderBefore)!==null&&e!==void 0||(n.renderBefore=r.firstChild),r}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=ta(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return ye}}We.finalized=!0,We._$litElement$=!0,(qt=globalThis.litElementHydrateSupport)===null||qt===void 0||qt.call(globalThis,{LitElement:We});const hr=globalThis.litElementPolyfillSupport;hr==null||hr({LitElement:We});((Jt=globalThis.litElementVersions)!==null&&Jt!==void 0?Jt:globalThis.litElementVersions=[]).push("3.2.2");var na=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,n,a):s(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};function ra(){return t=>{}}let et=class extends We{};et=na([ra()],et);const ia=["january","february","march","april","may","june","july","august","september","october","november","december"];ia.map(t=>t.slice(0,3));function tt(t){let e;try{e=Reflect.ownKeys(t)}catch{}return e!=null?e:[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}const aa=[(t,e)=>e in t,(t,e)=>e in t.constructor.prototype];function sa(t,e){return t?aa.some(n=>{try{return n(t,e)}catch{return!1}}):!1}function oa(t,e){return t&&e.every(n=>sa(t,n))}function nt(t,e){let n=!1;const r=tt(t).reduce((i,a)=>{const s=e(a,t[a],t);return s instanceof Promise&&(n=!0),{...i,[a]:s}},{});return n?new Promise(async(i,a)=>{try{await Promise.all(tt(r).map(async s=>{const o=await r[s];r[s]=o})),i(r)}catch(s){a(s)}}):r}const Fr={capitalizeFirstLetter:!1};function ua(t){var e;return t.length?((e=t[0])!==null&&e!==void 0?e:"").toUpperCase()+t.slice(1):""}function la(t,e=Fr){return e.capitalizeFirstLetter?ua(t):t}function ca(t,e=Fr){const n=t.toLowerCase();if(!n.length)return"";const r=n.replace(/^-+/,"").replace(/-{2,}/g,"-").replace(/-(?:.|$)/g,i=>{const a=i[1];return a?a.toUpperCase():""});return la(r,e)}function dr(t){return t!==t.toUpperCase()}function fa(t){return t.split("").reduce((n,r,i,a)=>{var s,o;const u=i>0&&(s=a[i-1])!==null&&s!==void 0?s:"",l=i<a.length&&(o=a[i+1])!==null&&o!==void 0?o:"",f=dr(u)||dr(l);return r===r.toLowerCase()||i===0||!f?n+=r:n+=`-${r.toLowerCase()}`,n},"").toLowerCase()}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ha=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}};function pr(t){return(e,n)=>n!==void 0?((r,i,a)=>{i.constructor.createProperty(a,r)})(t,e,n):ha(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Zt;((Zt=window.HTMLSlotElement)===null||Zt===void 0?void 0:Zt.prototype.assignedElements)!=null;const cn=Symbol("this-is-an-element-vir-declarative-element");function Lr(t,e){return`${t}-${fa(e)}`}function da(t,e){return e?nt(e,n=>Xe(`--${Lr(t,String(n))}`)):{}}function pa(t,e){return t?nt(t,(n,r)=>{const i=e[n];return Xe(`var(${i}, ${r})`)}):{}}const jr=Symbol("key for ignoring inputs not having been set yet"),va={[jr]:!0};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ya={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Hr=t=>(...e)=>({_$litDirective$:t,values:e});class Ur{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,r){this._$Ct=e,this._$AM=n,this._$Ci=r}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}}function ma(t,e){return Vr(t,e,et)}function Vr(t,e,n){ga(t,e);const r=t.element;if(!(r instanceof n))throw new Error(`${e} attached to non ${n.name} element.`);return r}function ga(t,e){if(t.type!==ya.ELEMENT)throw new Error(`${e} directive can only be attached directly to an element.`);if(!t.element)throw new Error(`${e} directive found no element.`)}function ba(t,e){return _a(t,e)}const _a=Hr(class extends Ur{constructor(t){super(t),this.element=ma(t,"assign")}render(t,e){return wa(t,this.element,e),ye}});function wa(t,e,n){if(e.tagName.toLowerCase()!==t.tagName.toLowerCase())throw console.error(e,t),new Error(`Assignment mismatch. Assignment was made for ${e.tagName.toLowerCase()} but it's attached to ${t.tagName.toLowerCase()}`);e.assignInputs(n)}class Ea extends CustomEvent{constructor(e,n){super(typeof e=="string"?e:e.type,{detail:n,bubbles:!0,composed:!0}),this._type=""}get type(){return this._type}}function Aa(){return t=>{var e;return e=class extends Ea{constructor(n){super(t,n),this._type=t}},e.type=t,e}}function xa(t){return t?Object.keys(t).filter(e=>{if(typeof e!="string")throw new Error(`Expected event key of type string but got type "${typeof e}" for key ${String(e)}`);if(e==="")throw new Error("Got empty string for events key.");return!0}).reduce((e,n)=>{const r=Aa()(n);return e[n]=r,e},{}):{}}function vr(t,e,n){if(typeof t!="string"&&typeof t!="number"&&typeof t!="symbol")throw new Error(`Property name must be a string, got type "${typeof t}" from: "${String(t)}" for ${n.toLowerCase()}`);if(!(t in e))throw new Error(`Property "${String(t)}" does not exist on ${n.toLowerCase()}.`)}function yr(t,e){const n=t;return new Proxy({},{get:(i,a)=>{e&&vr(a,t,t.tagName);const s=i[a];return typeof s=="function"?s.bind(i):n[a]},set:(i,a,s)=>(e&&vr(a,t,t.tagName),i[a]=s,n[a]=s,!0),ownKeys:i=>Reflect.ownKeys(i),getOwnPropertyDescriptor(i,a){if(a in i)return{get value(){return i[a]},configurable:!0,enumerable:!0}},has:(i,a)=>Reflect.has(i,a)})}function zr(t){const e=t.getRootNode();if(!(e instanceof ShadowRoot))return!1;const n=e.host;return n instanceof et?!0:zr(n)}function Sa(t,e){return e?nt(e,n=>Lr(t,String(n))):{}}function $a(t,e){return{dispatch:r=>t.dispatchEvent(r),genericDispatch:r=>t.dispatchEvent(r),updateState:r=>{tt(r).forEach(i=>{t.instanceState[i]=r[i]})},inputs:t.instanceInputs,host:t,state:t.instanceState,events:e}}function Ca({hostClassNames:t,cssVarNames:e,cssVarValues:n}){return{hostClassSelectors:nt(t,(r,i)=>Xe(`:host(.${i})`)),hostClassNames:nt(t,(r,i)=>Xe(i)),cssVarNames:e,cssVarValues:n}}function ka({host:t,hostClassesInit:e,hostClassNames:n,state:r,inputs:i}){!e||tt(e).forEach(a=>{const s=e[a],o=n[a];typeof s=="function"&&(s({state:r,inputs:i})?t.classList.add(o):t.classList.remove(o))})}function Wr(t){var e;const n=xa(t.events),r=Sa(t.tagName,t.hostClasses),i=da(t.tagName,t.cssVars),a=pa(t.cssVars,i),s={...va,...t.options},o=typeof t.styles=="function"?t.styles(Ca({hostClassNames:r,cssVarNames:i,cssVarValues:a})):t.styles||Kr``,u=t.renderCallback,l=(e=class extends et{constructor(){super(),this.initCalled=!1,this.haveInputsBeenSet=!1,this.definition={},this.instanceInputs=yr(this,!1),this.instanceState=yr(this,!0);const f=t.stateInit||{};Object.keys(f).forEach(c=>{pr()(this,c),this[c]=f[c]}),this.definition=l}createRenderParams(){return $a(this,n)}get instanceType(){throw new Error(`"instanceType" was called on ${t.tagName} as a value but it is only for types.`)}static get inputsType(){throw new Error(`"inputsType" was called on ${t.tagName} as a value but it is only for types.`)}static get stateType(){throw new Error(`"stateType" was called on ${t.tagName} as a value but it is only for types.`)}markInputsAsHavingBeenSet(){this.haveInputsBeenSet||(this.haveInputsBeenSet=!0)}render(){zr(this)&&!this.haveInputsBeenSet&&!s[jr]&&console.warn(this,`${t.tagName} got rendered before its input object was set. This was most likely caused by forgetting to use the "${ba.name}" directive on it. If no inputs are intended, use "${Wr.name}" to define ${t.tagName}.`);const f=this.createRenderParams();!this.initCalled&&t.initCallback&&(this.initCalled=!0,t.initCallback(f));const c=t.renderCallback(f);return ka({host:f.host,hostClassesInit:t.hostClasses,hostClassNames:r,state:f.state,inputs:f.inputs}),c}disconnectedCallback(){if(super.disconnectedCallback(),t.cleanupCallback){const f=this.createRenderParams();t.cleanupCallback(f)}this.initCalled=!1}assignInputs(f){tt(f).forEach(c=>{pr()(this,c),this.instanceInputs[c]=f[c]}),this.markInputsAsHavingBeenSet()}},e.tagName=t.tagName,e.styles=o,e.isStrictInstance=()=>!1,e.events=n,e.renderCallback=u,e.hostClasses=r,e.cssVarNames=i,e.stateInit=t.stateInit,e.cssVarValues=i,e);return Object.defineProperties(l,{[cn]:{value:!0,writable:!1},name:{value:ca(t.tagName,{capitalizeFirstLetter:!0}),writable:!0},isStrictInstance:{value:f=>f instanceof l,writable:!1}}),window.customElements.define(t.tagName,l),l}function Ta(t,e){return Pa(t,e)}const Pa=Hr(class extends Ur{constructor(t){super(t),this.element=Vr(t,"listen",HTMLElement)}resetListener(t){this.lastListenerMetaData&&this.element.removeEventListener(this.lastListenerMetaData.eventType,this.lastListenerMetaData.listener),this.element.addEventListener(t.eventType,t.listener),this.lastListenerMetaData=t}createListenerMetaData(t,e){return{eventType:t,callback:e,listener:n=>{var r;return(r=this.lastListenerMetaData)===null||r===void 0?void 0:r.callback(n)}}}render(t,e){const n=typeof t=="string"?t:t.type;if(typeof n!="string")throw new Error(`Cannot listen to an event with a name that is not a string. Given event name: "${n}"`);return this.lastListenerMetaData&&this.lastListenerMetaData.eventType===n?this.lastListenerMetaData.callback=e:this.resetListener(this.createListenerMetaData(n,e)),ye}});function Da(t,e){return t.filter((n,r)=>!e.includes(r))}function Yr(t){return t.filter(e=>oa(e,["tagName",cn])&&!!e.tagName&&!!e[cn])}const Gr=new WeakMap;function Ra(t,e){var n;const r=Yr(e);return(n=Qr(Gr,[t,...r]).value)===null||n===void 0?void 0:n.template}function Oa(t,e,n){const r=Yr(e);return qr(Gr,[t,...r],n)}function Qr(t,e,n=0){const{currentTemplateAndNested:r,reason:i}=Xr(t,e,n);return r?n===e.length-1?{value:r,reason:"reached end of keys array"}:r.nested?Qr(r.nested,e,n+1):{value:void 0,reason:`map at key index ${n} did not have nested maps`}:{value:r,reason:i}}function Xr(t,e,n){const r=e[n];if(r==null)return{currentKey:void 0,currentTemplateAndNested:void 0,reason:`key at index ${n} not found`};if(!t.has(r))return{currentKey:r,currentTemplateAndNested:void 0,reason:`key at index ${n} was not in the map`};const i=t.get(r);return i==null?{currentKey:r,currentTemplateAndNested:void 0,reason:`value at key at index ${n} was undefined`}:{currentKey:r,currentTemplateAndNested:i,reason:"key and value exists"}}function qr(t,e,n,r=0){var i;const{currentTemplateAndNested:a,currentKey:s,reason:o}=Xr(t,e,r);if(!s)return{result:!1,reason:o};const u=a!=null?a:{nested:void 0,template:void 0};if(a||t.set(s,u),r===e.length-1)return u.template=n,{result:!0,reason:"set value at end of keys array"};const l=(i=u.nested)!==null&&i!==void 0?i:new WeakMap;return u.nested||(u.nested=l),qr(l,e,n,r+1)}function Jr(t,e,n){return{name:t,check:e,transform:n}}const Ka=new WeakMap;function Zr(t,e,n){const r=Ra(t,e),i=r!=null?r:n();if(!r){const s=Oa(t,e,i);if(s.result)Ka.set(t,i);else throw new Error(`Failed to set template transform: ${s.reason}`)}const a=Da(e,i.valueIndexDeletions);return{strings:i.templateStrings,values:a}}function ei(t,e,n,r){const i=[],a=[],s=[];return t.forEach((u,l)=>{var f;const c=i.length-1,h=i[c],y=l-1,p=e[y];let d;r&&r(u),typeof h=="string"&&(d=(f=n.find(_=>_.check(h,u,p)))===null||f===void 0?void 0:f.transform,d&&(i[c]=h+d(p)+u,s.push(y))),d||i.push(u);const m=t.raw[l];d?a[c]=a[c]+d(p)+m:a.push(m)}),{templateStrings:Object.assign([],i,{raw:a}),valueIndexDeletions:s}}function ti(t){return typeof t=="function"&&t.hasOwnProperty("tagName")&&typeof t.tagName=="string"&&t.tagName.includes("-")}const Ma=[Jr("tag name css selector interpolation",(t,e,n)=>ti(n),t=>t.tagName)];function Ia(t,e){return ei(t,e,Ma)}function Ba(t,...e){const n=Zr(t,e,()=>Ia(t,e));return Kr(n.strings,...n.values)}const Na=[Jr("tag name interpolation",(t,e,n)=>{const r=t.trim().endsWith("<")&&!!e.match(/^[\s\n>]/)||(t==null?void 0:t.trim().endsWith("</"))&&e.trim().startsWith(">"),i=ti(n);if(r&&!i)throw console.error({lastNewString:t,currentLitString:e,currentValue:n}),new Error(`Got interpolated tag name but it wasn't of type VirElement: ${n.prototype.constructor.name}`);return r&&i},t=>t.tagName)];function Fa(t){}function La(t){return ei(t.strings,t.values,Na,Fa)}function mr(t,...e){const n=Yi(t,...e),r=Zr(t,e,()=>La(n));return{...n,strings:r.strings,values:r.values}}const ja=["january","february","march","april","may","june","july","august","september","october","november","december"];ja.map(t=>t.slice(0,3));function Ha(t){return!!t}function Ua(t){return t?t instanceof Error?t.message:String(t):""}function gr(t){let e;try{e=Reflect.ownKeys(t)}catch{}return e!=null?e:[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}const Va=[(t,e)=>e in t,(t,e)=>e in t.constructor.prototype];function fn(t,e){return t?Va.some(n=>{try{return n(t,e)}catch{return!1}}):!1}function ni(t){return!!t&&typeof t=="object"}function ri(t,e,n=!1){const r=gr(t),i=new Set(gr(e));if(!n){const a=r.filter(s=>!i.has(s));if(a.length)throw new Error(`Test object has extra keys: ${a.join(", ")}`)}i.forEach(a=>{if(!fn(t,a))throw new Error(`test object does not have key "${String(a)}" from expected shape.`);function s(l){throw new Error(`test object value at key "${String(a)}" did not match expected shape: ${l}`)}const o=t[a],u=e[a];ii(o,u,s)})}function ii(t,e,n){var r;const i=typeof t,a=typeof e;i!==a&&n(`type "${i}" did not match expected type "${a}"`);try{fn(e,"constructor")&&(!fn(t,"constructor")||t.constructor!==e.constructor)&&n(`constructor "${(r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name}" did not match expected constructor "${e.constructor}"`)}catch(s){if(s instanceof n)throw s}Array.isArray(e)?(Array.isArray(t)||n("expected an array"),t.forEach((s,o)=>{if(e.map(l=>{try{ii(s,l,n);return}catch(f){return new Error(`entry at index "${o}" did not match expected shape: ${Ua(f)}`)}}).filter(Ha).length===e.length)throw new Error(`entry at index "${o}" did not match any of the possible types from "${e.join(", ")}"`)})):ni(e)&&ri(t,e)}function ai(){return t=>t}function si(t){return Object.values(t).map(e=>ni(e)?si(e).flat():e).flat()}const Rt=ai()({java:{1:{19:{3:"java.1.19.3",2:"java.1.19.2"}}}});si(Rt);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var D=function(){return D=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},D.apply(this,arguments)};function hn(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var I=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,N=Object.keys,U=Array.isArray;typeof Promise<"u"&&!I.Promise&&(I.Promise=Promise);function z(t,e){return typeof e!="object"||N(e).forEach(function(n){t[n]=e[n]}),t}var rt=Object.getPrototypeOf,za={}.hasOwnProperty;function Y(t,e){return za.call(t,e)}function Be(t,e){typeof e=="function"&&(e=e(rt(t))),(typeof Reflect>"u"?N:Reflect.ownKeys)(e).forEach(function(n){ue(t,n,e[n])})}var oi=Object.defineProperty;function ue(t,e,n,r){oi(t,e,z(n&&Y(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Ne(t){return{from:function(e){return t.prototype=Object.create(e.prototype),ue(t.prototype,"constructor",t),{extend:Be.bind(null,t.prototype)}}}}var Wa=Object.getOwnPropertyDescriptor;function Nn(t,e){var n=Wa(t,e),r;return n||(r=rt(t))&&Nn(r,e)}var Ya=[].slice;function Ut(t,e,n){return Ya.call(t,e,n)}function ui(t,e){return e(t)}function Ve(t){if(!t)throw new Error("Assertion Failed")}function li(t){I.setImmediate?setImmediate(t):setTimeout(t,0)}function ci(t,e){return t.reduce(function(n,r,i){var a=e(r,i);return a&&(n[a[0]]=a[1]),n},{})}function Ga(t,e,n){try{t.apply(null,n)}catch(r){e&&e(r)}}function oe(t,e){if(Y(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,i=e.length;r<i;++r){var a=oe(t,e[r]);n.push(a)}return n}var s=e.indexOf(".");if(s!==-1){var o=t[e.substr(0,s)];return o===void 0?void 0:oe(o,e.substr(s+1))}}function J(t,e,n){if(!(!t||e===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){Ve(typeof n!="string"&&"length"in n);for(var r=0,i=e.length;r<i;++r)J(t,e[r],n[r])}else{var a=e.indexOf(".");if(a!==-1){var s=e.substr(0,a),o=e.substr(a+1);if(o==="")n===void 0?U(t)&&!isNaN(parseInt(s))?t.splice(s,1):delete t[s]:t[s]=n;else{var u=t[s];(!u||!Y(t,s))&&(u=t[s]={}),J(u,o,n)}}else n===void 0?U(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function Qa(t,e){typeof e=="string"?J(t,e,void 0):"length"in e&&[].map.call(e,function(n){J(t,n,void 0)})}function fi(t){var e={};for(var n in t)Y(t,n)&&(e[n]=t[n]);return e}var Xa=[].concat;function hi(t){return Xa.apply([],t)}var di="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(hi([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return I[t]}),qa=di.map(function(t){return I[t]});ci(di,function(t){return[t,!0]});var de=null;function ft(t){de=typeof WeakMap<"u"&&new WeakMap;var e=dn(t);return de=null,e}function dn(t){if(!t||typeof t!="object")return t;var e=de&&de.get(t);if(e)return e;if(U(t)){e=[],de&&de.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(dn(t[n]))}else if(qa.indexOf(t.constructor)>=0)e=t;else{var i=rt(t);e=i===Object.prototype?{}:Object.create(i),de&&de.set(t,e);for(var a in t)Y(t,a)&&(e[a]=dn(t[a]))}return e}var Ja={}.toString;function pn(t){return Ja.call(t).slice(8,-1)}var vn=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Za=typeof vn=="symbol"?function(t){var e;return t!=null&&(e=t[vn])&&e.apply(t)}:function(){return null},De={};function ae(t){var e,n,r,i;if(arguments.length===1){if(U(t))return t.slice();if(this===De&&typeof t=="string")return[t];if(i=Za(t)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(t==null)return[t];if(e=t.length,typeof e=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var Fn=typeof Symbol<"u"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ne=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function pi(t,e){ne=t,vi=e}var vi=function(){return!0},es=!new Error("").stack;function Ce(){if(es)try{throw Ce.arguments,new Error}catch(t){return t}return new Error}function yn(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(vi).map(function(r){return`
`+r}).join("")):""}var ts=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],yi=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ln=ts.concat(yi),ns={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Fe(t,e){this._e=Ce(),this.name=t,this.message=e}Ne(Fe).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+yn(this._e,2))}},toString:function(){return this.name+": "+this.message}});function mi(t,e){return t+". Errors: "+Object.keys(e).map(function(n){return e[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join(`
`)}function Ot(t,e,n,r){this._e=Ce(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=mi(t,e)}Ne(Ot).from(Fe);function Ye(t,e){this._e=Ce(),this.name="BulkError",this.failures=Object.keys(e).map(function(n){return e[n]}),this.failuresByPos=e,this.message=mi(t,e)}Ne(Ye).from(Fe);var jn=Ln.reduce(function(t,e){return t[e]=e+"Error",t},{}),rs=Fe,k=Ln.reduce(function(t,e){var n=e+"Error";function r(i,a){this._e=Ce(),this.name=n,i?typeof i=="string"?(this.message=""+i+(a?`
 `+a:""),this.inner=a||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=ns[e]||n,this.inner=null)}return Ne(r).from(rs),t[e]=r,t},{});k.Syntax=SyntaxError;k.Type=TypeError;k.Range=RangeError;var br=yi.reduce(function(t,e){return t[e+"Error"]=k[e],t},{});function is(t,e){if(!t||t instanceof Fe||t instanceof TypeError||t instanceof SyntaxError||!t.name||!br[t.name])return t;var n=new br[t.name](e||t.message,t);return"stack"in t&&ue(n,"stack",{get:function(){return this.inner.stack}}),n}var Vt=Ln.reduce(function(t,e){return["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=k[e]),t},{});Vt.ModifyError=Ot;Vt.DexieError=Fe;Vt.BulkError=Ye;function M(){}function ht(t){return t}function as(t,e){return t==null||t===ht?e:function(n){return e(t(n))}}function Se(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function ss(t,e){return t===M?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Se(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Se(i,this.onerror):i),a!==void 0?a:n}}function os(t,e){return t===M?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Se(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Se(r,this.onerror):r)}}function us(t,e){return t===M?e:function(n){var r=t.apply(this,arguments);z(n,r);var i=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Se(i,this.onsuccess):i),a&&(this.onerror=this.onerror?Se(a,this.onerror):a),r===void 0?s===void 0?void 0:s:z(r,s)}}function ls(t,e){return t===M?e:function(){return e.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function Hn(t,e){return t===M?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return n.then(function(){return e.apply(r,a)})}return e.apply(this,arguments)}}var it={},cs=100,fs=20,gi=100,Un=typeof Promise>"u"?[]:function(){var t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,rt(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,rt(e),t]}(),mn=Un[0],Kt=Un[1],gn=Un[2],bi=Kt&&Kt.then,xt=mn&&mn.constructor,Vn=!!gn,bn=!1,hs=gn?function(){gn.then(gt)}:I.setImmediate?setImmediate.bind(null,gt):I.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){gt(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(gt,0)},at=function(t,e){ze.push([t,e]),Mt&&(hs(),Mt=!1)},_n=!0,Mt=!0,Ae=[],St=[],wn=null,En=ht,Oe={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Er,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{Er(t[0],t[1])}catch{}})}},S=Oe,ze=[],xe=0,$t=[];function x(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=M,this._lib=!1;var e=this._PSD=S;if(ne&&(this._stackHolder=Ce(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==it)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&xn(this,this._value);return}this._state=null,this._value=null,++e.ref,wi(this,t)}var An={get:function(){var t=S,e=It;function n(r,i){var a=this,s=!t.global&&(t!==S||e!==It),o=s&&!le(),u=new x(function(l,f){zn(a,new _i(Nt(r,t,s,o),Nt(i,t,s,o),l,f,t))});return ne&&xi(u,this),u}return n.prototype=it,n},set:function(t){ue(this,"then",t&&t.prototype===it?An:{get:function(){return t},set:An.set})}};Be(x.prototype,{then:An,_then:function(t,e){zn(this,new _i(null,null,t,e,S))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,function(r){return r instanceof e?n(r):Ct(r)}):this.then(null,function(r){return r&&r.name===e?n(r):Ct(r)})},finally:function(t){return this.then(function(e){return t(),e},function(e){return t(),Ct(e)})},stack:{get:function(){if(this._stack)return this._stack;try{bn=!0;var t=Ai(this,[],fs),e=t.join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{bn=!1}}},timeout:function(t,e){var n=this;return t<1/0?new x(function(r,i){var a=setTimeout(function(){return i(new k.Timeout(e))},t);n.then(r,i).finally(clearTimeout.bind(null,a))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&ue(x.prototype,Symbol.toStringTag,"Dexie.Promise");Oe.env=Si();function _i(t,e,n,r,i){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=i}Be(x,{all:function(){var t=ae.apply(null,arguments).map(Bt);return new x(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach(function(i,a){return x.resolve(i).then(function(s){t[a]=s,--r||e(t)},n)})})},resolve:function(t){if(t instanceof x)return t;if(t&&typeof t.then=="function")return new x(function(n,r){t.then(n,r)});var e=new x(it,!0,t);return xi(e,wn),e},reject:Ct,race:function(){var t=ae.apply(null,arguments).map(Bt);return new x(function(e,n){t.map(function(r){return x.resolve(r).then(e,n)})})},PSD:{get:function(){return S},set:function(t){return S=t}},totalEchoes:{get:function(){return It}},newPSD:me,usePSD:je,scheduler:{get:function(){return at},set:function(t){at=t}},rejectionMapper:{get:function(){return En},set:function(t){En=t}},follow:function(t,e){return new x(function(n,r){return me(function(i,a){var s=S;s.unhandleds=[],s.onunhandled=a,s.finalize=Se(function(){var o=this;ps(function(){o.unhandleds.length===0?i():a(o.unhandleds[0])})},s.finalize),t()},e,n,r)})}});xt&&(xt.allSettled&&ue(x,"allSettled",function(){var t=ae.apply(null,arguments).map(Bt);return new x(function(e){t.length===0&&e([]);var n=t.length,r=new Array(n);t.forEach(function(i,a){return x.resolve(i).then(function(s){return r[a]={status:"fulfilled",value:s}},function(s){return r[a]={status:"rejected",reason:s}}).then(function(){return--n||e(r)})})})}),xt.any&&typeof AggregateError<"u"&&ue(x,"any",function(){var t=ae.apply(null,arguments).map(Bt);return new x(function(e,n){t.length===0&&n(new AggregateError([]));var r=t.length,i=new Array(r);t.forEach(function(a,s){return x.resolve(a).then(function(o){return e(o)},function(o){i[s]=o,--r||n(new AggregateError(i))})})})}));function wi(t,e){try{e(function(n){if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&dt();n&&typeof n.then=="function"?wi(t,function(i,a){n instanceof x?n._then(i,a):n.then(i,a)}):(t._state=!0,t._value=n,Ei(t)),r&&pt()}},xn.bind(null,t))}catch(n){xn(t,n)}}function xn(t,e){if(St.push(e),t._state===null){var n=t._lib&&dt();e=En(e),t._state=!1,t._value=e,ne&&e!==null&&typeof e=="object"&&!e._promise&&Ga(function(){var r=Nn(e,"stack");e._promise=t,ue(e,"stack",{get:function(){return bn?r&&(r.get?r.get.apply(e):r.value):t.stack}})}),vs(t),Ei(t),n&&pt()}}function Ei(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)zn(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),xe===0&&(++xe,at(function(){--xe===0&&Wn()},[]))}function zn(t,e){if(t._state===null){t._listeners.push(e);return}var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++xe,at(ds,[n,t,e])}function ds(t,e,n){try{wn=e;var r,i=e._value;e._state?r=t(i):(St.length&&(St=[]),r=t(i),St.indexOf(i)===-1&&ys(e)),n.resolve(r)}catch(a){n.reject(a)}finally{wn=null,--xe===0&&Wn(),--n.psd.ref||n.psd.finalize()}}function Ai(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var i=t._value,a,s;i!=null?(a=i.name||"Error",s=i.message||i,r=yn(i,0)):(a=i,s=""),e.push(a+(s?": "+s:"")+r)}return ne&&(r=yn(t._stackHolder,2),r&&e.indexOf(r)===-1&&e.push(r),t._prev&&Ai(t._prev,e,n)),e}function xi(t,e){var n=e?e._numPrev+1:0;n<cs&&(t._prev=e,t._numPrev=n)}function gt(){dt()&&pt()}function dt(){var t=_n;return _n=!1,Mt=!1,t}function pt(){var t,e,n;do for(;ze.length>0;)for(t=ze,ze=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(ze.length>0);_n=!0,Mt=!0}function Wn(){var t=Ae;Ae=[],t.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var e=$t.slice(0),n=e.length;n;)e[--n]()}function ps(t){function e(){t(),$t.splice($t.indexOf(e),1)}$t.push(e),++xe,at(function(){--xe===0&&Wn()},[])}function vs(t){Ae.some(function(e){return e._value===t._value})||Ae.push(t)}function ys(t){for(var e=Ae.length;e;)if(Ae[--e]._value===t._value){Ae.splice(e,1);return}}function Ct(t){return new x(it,!1,t)}function B(t,e){var n=S;return function(){var r=dt(),i=S;try{return ge(n,!0),t.apply(this,arguments)}catch(a){e&&e(a)}finally{ge(i,!1),r&&pt()}}}var H={awaits:0,echoes:0,id:0},ms=0,kt=[],en=0,It=0,gs=0;function me(t,e,n,r){var i=S,a=Object.create(i);a.parent=i,a.ref=0,a.global=!1,a.id=++gs;var s=Oe.env;a.env=Vn?{Promise:x,PromiseProp:{value:x,configurable:!0,writable:!0},all:x.all,race:x.race,allSettled:x.allSettled,any:x.any,resolve:x.resolve,reject:x.reject,nthen:_r(s.nthen,a),gthen:_r(s.gthen,a)}:{},e&&z(a,e),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var o=je(a,t,n,r);return a.ref===0&&a.finalize(),o}function Le(){return H.id||(H.id=++ms),++H.awaits,H.echoes+=gi,H.id}function le(){return H.awaits?(--H.awaits===0&&(H.id=0),H.echoes=H.awaits*gi,!0):!1}(""+bi).indexOf("[native code]")===-1&&(Le=le=M);function Bt(t){return H.echoes&&t&&t.constructor===xt?(Le(),t.then(function(e){return le(),e},function(e){return le(),F(e)})):t}function bs(t){++It,(!H.echoes||--H.echoes===0)&&(H.echoes=H.id=0),kt.push(S),ge(t,!0)}function _s(){var t=kt[kt.length-1];kt.pop(),ge(t,!1)}function ge(t,e){var n=S;if((e?H.echoes&&(!en++||t!==S):en&&(!--en||t!==S))&&$i(e?bs.bind(null,t):_s),t!==S&&(S=t,n===Oe&&(Oe.env=Si()),Vn)){var r=Oe.env.Promise,i=t.env;Kt.then=i.nthen,r.prototype.then=i.gthen,(n.global||t.global)&&(Object.defineProperty(I,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Si(){var t=I.Promise;return Vn?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(I,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Kt.then,gthen:t.prototype.then}:{}}function je(t,e,n,r,i){var a=S;try{return ge(t,!0),e(n,r,i)}finally{ge(a,!1)}}function $i(t){bi.call(mn,t)}function Nt(t,e,n,r){return typeof t!="function"?t:function(){var i=S;n&&Le(),ge(e,!0);try{return t.apply(this,arguments)}finally{ge(i,!1),r&&$i(le)}}}function _r(t,e){return function(n,r){return t.call(this,Nt(n,e),Nt(r,e))}}var wr="unhandledrejection";function Er(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,i={promise:e,reason:t};if(I.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(wr,!0,!0),z(r,i)):I.CustomEvent&&(r=new CustomEvent(wr,{detail:i}),z(r,i)),r&&I.dispatchEvent&&(dispatchEvent(r),!I.PromiseRejectionEvent&&I.onunhandledrejection))try{I.onunhandledrejection(r)}catch{}ne&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch{}}var F=x.reject;function Sn(t,e,n,r){if(!t.idbdb||!t._state.openComplete&&!S.letThrough&&!t._vip){if(t._state.openComplete)return F(new k.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return F(new k.DatabaseClosed);t.open().catch(M)}return t._state.dbReadyPromise.then(function(){return Sn(t,e,n,r)})}else{var i=t._createTransaction(e,n,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(a){return a.name===jn.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return Sn(t,e,n,r)})):F(a)}return i._promise(e,function(a,s){return me(function(){return S.trans=i,r(a,s,i)})}).then(function(a){return i._completion.then(function(){return a})})}}var Ar="3.2.2",Ee=String.fromCharCode(65535),$n=-1/0,re="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ci="String expected.",Ge=[],zt=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),ws=zt,Es=zt,ki=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)},Wt="__dbnames",tn="readonly",nn="readwrite";function $e(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var Ti={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function bt(t){return typeof t=="string"&&!/\./.test(t)?function(e){return e[t]===void 0&&t in e&&(e=ft(e),delete e[t]),e}:function(e){return e}}var As=function(){function t(){}return t.prototype._trans=function(e,n,r){var i=this._tx||S.trans,a=this.name;function s(u,l,f){if(!f.schema[a])throw new k.NotFound("Table "+a+" not part of transaction");return n(f.idbtrans,f)}var o=dt();try{return i&&i.db===this.db?i===S.trans?i._promise(e,s,r):me(function(){return i._promise(e,s,r)},{trans:i,transless:S.transless||S}):Sn(this.db,e,[this.name],s)}finally{o&&pt()}},t.prototype.get=function(e,n){var r=this;return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",function(i){return r.core.get({trans:i,key:e}).then(function(a){return r.hook.reading.fire(a)})}).then(n)},t.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(U(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var n=N(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(f){return f.compound&&n.every(function(c){return f.keyPath.indexOf(c)>=0})&&f.keyPath.every(function(c){return n.indexOf(c)>=0})})[0];if(r&&this.db._maxKey!==Ee)return this.where(r.name).equals(r.keyPath.map(function(f){return e[f]}));!r&&ne&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var i=this.schema.idxByName,a=this.db._deps.indexedDB;function s(f,c){try{return a.cmp(f,c)===0}catch{return!1}}var o=n.reduce(function(f,c){var h=f[0],y=f[1],p=i[c],d=e[c];return[h||p,h||!p?$e(y,p&&p.multi?function(m){var _=oe(m,c);return U(_)&&_.some(function(w){return s(d,w)})}:function(m){return s(d,oe(m,c))}):y]},[null,null]),u=o[0],l=o[1];return u?this.where(u.name).equals(e[u.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")},t.prototype.filter=function(e){return this.toCollection().and(e)},t.prototype.count=function(e){return this.toCollection().count(e)},t.prototype.offset=function(e){return this.toCollection().offset(e)},t.prototype.limit=function(e){return this.toCollection().limit(e)},t.prototype.each=function(e){return this.toCollection().each(e)},t.prototype.toArray=function(e){return this.toCollection().toArray(e)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,U(e)?"["+e.join("+")+"]":e))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(e){this.schema.mappedClass=e;var n=function(r){if(!r)return r;var i=Object.create(e.prototype);for(var a in r)if(Y(r,a))try{i[a]=r[a]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e},t.prototype.defineClass=function(){function e(n){z(this,n)}return this.mapToClass(e)},t.prototype.add=function(e,n){var r=this,i=this.schema.primKey,a=i.auto,s=i.keyPath,o=e;return s&&a&&(o=bt(s)(e)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"add",keys:n!=null?[n]:null,values:[o]})}).then(function(u){return u.numFailures?x.reject(u.failures[0]):u.lastResult}).then(function(u){if(s)try{J(e,s,u)}catch{}return u})},t.prototype.update=function(e,n){if(typeof e=="object"&&!U(e)){var r=oe(e,this.schema.primKey.keyPath);if(r===void 0)return F(new k.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?N(n).forEach(function(i){J(e,i,n[i])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(e).modify(n)},t.prototype.put=function(e,n){var r=this,i=this.schema.primKey,a=i.auto,s=i.keyPath,o=e;return s&&a&&(o=bt(s)(e)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"put",values:[o],keys:n!=null?[n]:null})}).then(function(u){return u.numFailures?x.reject(u.failures[0]):u.lastResult}).then(function(u){if(s)try{J(e,s,u)}catch{}return u})},t.prototype.delete=function(e){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[e]})}).then(function(r){return r.numFailures?x.reject(r.failures[0]):void 0})},t.prototype.clear=function(){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"deleteRange",range:Ti})}).then(function(n){return n.numFailures?x.reject(n.failures[0]):void 0})},t.prototype.bulkGet=function(e){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:e,trans:r}).then(function(i){return i.map(function(a){return n.hook.reading.fire(a)})})})},t.prototype.bulkAdd=function(e,n,r){var i=this,a=Array.isArray(n)?n:void 0;r=r||(a?void 0:n);var s=r?r.allKeys:void 0;return this._trans("readwrite",function(o){var u=i.schema.primKey,l=u.auto,f=u.keyPath;if(f&&a)throw new k.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==e.length)throw new k.InvalidArgument("Arguments objects and keys must have the same length");var c=e.length,h=f&&l?e.map(bt(f)):e;return i.core.mutate({trans:o,type:"add",keys:a,values:h,wantResults:s}).then(function(y){var p=y.numFailures,d=y.results,m=y.lastResult,_=y.failures,w=s?d:m;if(p===0)return w;throw new Ye(i.name+".bulkAdd(): "+p+" of "+c+" operations failed",_)})})},t.prototype.bulkPut=function(e,n,r){var i=this,a=Array.isArray(n)?n:void 0;r=r||(a?void 0:n);var s=r?r.allKeys:void 0;return this._trans("readwrite",function(o){var u=i.schema.primKey,l=u.auto,f=u.keyPath;if(f&&a)throw new k.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==e.length)throw new k.InvalidArgument("Arguments objects and keys must have the same length");var c=e.length,h=f&&l?e.map(bt(f)):e;return i.core.mutate({trans:o,type:"put",keys:a,values:h,wantResults:s}).then(function(y){var p=y.numFailures,d=y.results,m=y.lastResult,_=y.failures,w=s?d:m;if(p===0)return w;throw new Ye(i.name+".bulkPut(): "+p+" of "+c+" operations failed",_)})})},t.prototype.bulkDelete=function(e){var n=this,r=e.length;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"delete",keys:e})}).then(function(i){var a=i.numFailures,s=i.lastResult,o=i.failures;if(a===0)return s;throw new Ye(n.name+".bulkDelete(): "+a+" of "+r+" operations failed",o)})},t}();function vt(t){var e={},n=function(o,u){if(u){for(var l=arguments.length,f=new Array(l-1);--l;)f[l-1]=arguments[l];return e[o].subscribe.apply(null,f),t}else if(typeof o=="string")return e[o]};n.addEventType=a;for(var r=1,i=arguments.length;r<i;++r)a(arguments[r]);return n;function a(o,u,l){if(typeof o=="object")return s(o);u||(u=ls),l||(l=M);var f={subscribers:[],fire:l,subscribe:function(c){f.subscribers.indexOf(c)===-1&&(f.subscribers.push(c),f.fire=u(f.fire,c))},unsubscribe:function(c){f.subscribers=f.subscribers.filter(function(h){return h!==c}),f.fire=f.subscribers.reduce(u,l)}};return e[o]=n[o]=f,f}function s(o){N(o).forEach(function(u){var l=o[u];if(U(l))a(u,o[u][0],o[u][1]);else if(l==="asap")var f=a(u,ht,function(){for(var h=arguments.length,y=new Array(h);h--;)y[h]=arguments[h];f.subscribers.forEach(function(p){li(function(){p.apply(null,y)})})});else throw new k.InvalidArgument("Invalid event config")})}}function yt(t,e){return Ne(e).from({prototype:t}),e}function xs(t){return yt(As.prototype,function(n,r,i){this.db=t,this._tx=i,this.name=n,this.schema=r,this.hook=t._allTables[n]?t._allTables[n].hook:vt(null,{creating:[ss,M],reading:[as,ht],updating:[us,M],deleting:[os,M]})})}function ke(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function rn(t,e){t.filter=$e(t.filter,e)}function an(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return $e(r(),e())}:e,t.justLimit=n&&!r}function Ss(t,e){t.isMatch=$e(t.isMatch,e)}function Tt(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new k.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function xr(t,e,n){var r=Tt(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function _t(t,e,n,r){var i=t.replayFilter?$e(t.filter,t.replayFilter()):t.filter;if(t.or){var a={},s=function(o,u,l){if(!i||i(u,l,function(h){return u.stop(h)},function(h){return u.fail(h)})){var f=u.primaryKey,c=""+f;c==="[object ArrayBuffer]"&&(c=""+new Uint8Array(f)),Y(a,c)||(a[c]=!0,e(o,u,l))}};return Promise.all([t.or._iterate(s,n),Sr(xr(t,r,n),t.algorithm,s,!t.keysOnly&&t.valueMapper)])}else return Sr(xr(t,r,n),$e(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function Sr(t,e,n,r){var i=r?function(s,o,u){return n(r(s),o,u)}:n,a=B(i);return t.then(function(s){if(s)return s.start(function(){var o=function(){return s.continue()};(!e||e(s,function(u){return o=u},function(u){s.stop(u),o=M},function(u){s.fail(u),o=M}))&&a(s.value,s,function(u){return o=u}),o()})})}function V(t,e){try{var n=$r(t),r=$r(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return Cs(Cr(t),Cr(e));case"Array":return $s(t,e)}}catch{}return NaN}function $s(t,e){for(var n=t.length,r=e.length,i=n<r?n:r,a=0;a<i;++a){var s=V(t[a],e[a]);if(s!==0)return s}return n===r?0:n<r?-1:1}function Cs(t,e){for(var n=t.length,r=e.length,i=n<r?n:r,a=0;a<i;++a)if(t[a]!==e[a])return t[a]<e[a]?-1:1;return n===r?0:n<r?-1:1}function $r(t){var e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";var n=pn(t);return n==="ArrayBuffer"?"binary":n}function Cr(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var ks=function(){function t(){}return t.prototype._read=function(e,n){var r=this._ctx;return r.error?r.table._trans(null,F.bind(null,r.error)):r.table._trans("readonly",e).then(n)},t.prototype._write=function(e){var n=this._ctx;return n.error?n.table._trans(null,F.bind(null,n.error)):n.table._trans("readwrite",e,"locked")},t.prototype._addAlgorithm=function(e){var n=this._ctx;n.algorithm=$e(n.algorithm,e)},t.prototype._iterate=function(e,n){return _t(this._ctx,e,n,this._ctx.table.core)},t.prototype.clone=function(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&z(r,e),n._ctx=r,n},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(e){var n=this._ctx;return this._read(function(r){return _t(n,e,r,n.table.core)})},t.prototype.count=function(e){var n=this;return this._read(function(r){var i=n._ctx,a=i.table.core;if(ke(i,!0))return a.count({trans:r,query:{index:Tt(i,a.schema),range:i.range}}).then(function(o){return Math.min(o,i.limit)});var s=0;return _t(i,function(){return++s,!1},r,a).then(function(){return s})}).then(e)},t.prototype.sortBy=function(e,n){var r=e.split(".").reverse(),i=r[0],a=r.length-1;function s(l,f){return f?s(l[r[f]],f-1):l[i]}var o=this._ctx.dir==="next"?1:-1;function u(l,f){var c=s(l,a),h=s(f,a);return c<h?-o:c>h?o:0}return this.toArray(function(l){return l.sort(u)}).then(n)},t.prototype.toArray=function(e){var n=this;return this._read(function(r){var i=n._ctx;if(i.dir==="next"&&ke(i,!0)&&i.limit>0){var a=i.valueMapper,s=Tt(i,i.table.core.schema);return i.table.core.query({trans:r,limit:i.limit,values:!0,query:{index:s,range:i.range}}).then(function(u){var l=u.result;return a?l.map(a):l})}else{var o=[];return _t(i,function(u){return o.push(u)},r,i.table.core).then(function(){return o})}},e)},t.prototype.offset=function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,ke(n)?an(n,function(){var r=e;return function(i,a){return r===0?!0:r===1?(--r,!1):(a(function(){i.advance(r),r=0}),!1)}}):an(n,function(){var r=e;return function(){return--r<0}}),this)},t.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),an(this._ctx,function(){var n=e;return function(r,i,a){return--n<=0&&i(a),n>=0}},!0),this},t.prototype.until=function(e,n){return rn(this._ctx,function(r,i,a){return e(r.value)?(i(a),n):!0}),this},t.prototype.first=function(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)},t.prototype.last=function(e){return this.reverse().first(e)},t.prototype.filter=function(e){return rn(this._ctx,function(n){return e(n.value)}),Ss(this._ctx,e),this},t.prototype.and=function(e){return this.filter(e)},t.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.key,i)})},t.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},t.prototype.eachPrimaryKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.primaryKey,i)})},t.prototype.keys=function(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,a){r.push(a.key)}).then(function(){return r}).then(e)},t.prototype.primaryKeys=function(e){var n=this._ctx;if(n.dir==="next"&&ke(n,!0)&&n.limit>0)return this._read(function(i){var a=Tt(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:a,range:n.range}})}).then(function(i){var a=i.result;return a}).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,a){r.push(a.primaryKey)}).then(function(){return r}).then(e)},t.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},t.prototype.firstKey=function(e){return this.limit(1).keys(function(n){return n[0]}).then(e)},t.prototype.lastKey=function(e){return this.reverse().firstKey(e)},t.prototype.distinct=function(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return rn(this._ctx,function(i){var a=i.primaryKey.toString(),s=Y(r,a);return r[a]=!0,!s}),this},t.prototype.modify=function(e){var n=this,r=this._ctx;return this._write(function(i){var a;if(typeof e=="function")a=e;else{var s=N(e),o=s.length;a=function(_){for(var w=!1,g=0;g<o;++g){var b=s[g],v=e[b];oe(_,b)!==v&&(J(_,b,v),w=!0)}return w}}var u=r.table.core,l=u.schema.primaryKey,f=l.outbound,c=l.extractKey,h=n.db._options.modifyChunkSize||200,y=[],p=0,d=[],m=function(_,w){var g=w.failures,b=w.numFailures;p+=_-b;for(var v=0,E=N(g);v<E.length;v++){var $=E[v];y.push(g[$])}};return n.clone().primaryKeys().then(function(_){var w=function(g){var b=Math.min(h,_.length-g);return u.getMany({trans:i,keys:_.slice(g,g+b),cache:"immutable"}).then(function(v){for(var E=[],$=[],A=f?[]:null,C=[],T=0;T<b;++T){var O=v[T],K={value:ft(O),primKey:_[g+T]};a.call(K,K.value,K)!==!1&&(K.value==null?C.push(_[g+T]):!f&&V(c(O),c(K.value))!==0?(C.push(_[g+T]),E.push(K.value)):($.push(K.value),f&&A.push(_[g+T])))}var R=ke(r)&&r.limit===1/0&&(typeof e!="function"||e===sn)&&{index:r.index,range:r.range};return Promise.resolve(E.length>0&&u.mutate({trans:i,type:"add",values:E}).then(function(j){for(var P in j.failures)C.splice(parseInt(P),1);m(E.length,j)})).then(function(){return($.length>0||R&&typeof e=="object")&&u.mutate({trans:i,type:"put",keys:A,values:$,criteria:R,changeSpec:typeof e!="function"&&e}).then(function(j){return m($.length,j)})}).then(function(){return(C.length>0||R&&e===sn)&&u.mutate({trans:i,type:"delete",keys:C,criteria:R}).then(function(j){return m(C.length,j)})}).then(function(){return _.length>g+b&&w(g+h)})})};return w(0).then(function(){if(y.length>0)throw new Ot("Error modifying one or more objects",y,p,d);return _.length})})})},t.prototype.delete=function(){var e=this._ctx,n=e.range;return ke(e)&&(e.isPrimKey&&!Es||n.type===3)?this._write(function(r){var i=e.table.core.schema.primaryKey,a=n;return e.table.core.count({trans:r,query:{index:i,range:a}}).then(function(s){return e.table.core.mutate({trans:r,type:"deleteRange",range:a}).then(function(o){var u=o.failures;o.lastResult,o.results;var l=o.numFailures;if(l)throw new Ot("Could not delete some values",Object.keys(u).map(function(f){return u[f]}),s-l);return s-l})})}):this.modify(sn)},t}(),sn=function(t,e){return e.value=null};function Ts(t){return yt(ks.prototype,function(n,r){this.db=t;var i=Ti,a=null;if(r)try{i=r()}catch(l){a=l}var s=n._ctx,o=s.table,u=o.hook.reading.fire;this._ctx={table:o,index:s.index,isPrimKey:!s.index||o.schema.primKey.keyPath&&s.index===o.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:a,or:s.or,valueMapper:u!==ht?u:null}})}function Ps(t,e){return t<e?-1:t===e?0:1}function Ds(t,e){return t>e?-1:t===e?0:1}function W(t,e,n){var r=t instanceof Di?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function Te(t){return new t.Collection(t,function(){return Pi("")}).limit(0)}function Rs(t){return t==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function Os(t){return t==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function Ks(t,e,n,r,i,a){for(var s=Math.min(t.length,r.length),o=-1,u=0;u<s;++u){var l=e[u];if(l!==r[u])return i(t[u],n[u])<0?t.substr(0,u)+n[u]+n.substr(u+1):i(t[u],r[u])<0?t.substr(0,u)+r[u]+n.substr(u+1):o>=0?t.substr(0,o)+e[o]+n.substr(o+1):null;i(t[u],l)<0&&(o=u)}return s<r.length&&a==="next"?t+n.substr(t.length):s<t.length&&a==="prev"?t.substr(0,n.length):o<0?null:t.substr(0,o)+r[o]+n.substr(o+1)}function wt(t,e,n,r){var i,a,s,o,u,l,f,c=n.length;if(!n.every(function(d){return typeof d=="string"}))return W(t,Ci);function h(d){i=Rs(d),a=Os(d),s=d==="next"?Ps:Ds;var m=n.map(function(_){return{lower:a(_),upper:i(_)}}).sort(function(_,w){return s(_.lower,w.lower)});o=m.map(function(_){return _.upper}),u=m.map(function(_){return _.lower}),l=d,f=d==="next"?"":r}h("next");var y=new t.Collection(t,function(){return he(o[0],u[c-1]+r)});y._ondirectionchange=function(d){h(d)};var p=0;return y._addAlgorithm(function(d,m,_){var w=d.key;if(typeof w!="string")return!1;var g=a(w);if(e(g,u,p))return!0;for(var b=null,v=p;v<c;++v){var E=Ks(w,g,o[v],u[v],s,l);E===null&&b===null?p=v+1:(b===null||s(b,E)>0)&&(b=E)}return m(b!==null?function(){d.continue(b+f)}:_),!1}),y}function he(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function Pi(t){return{type:1,lower:t,upper:t}}var Di=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(e,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||i)&&!(r&&i)?Te(this):new this.Collection(this,function(){return he(e,n,!r,!i)})}catch{return W(this,re)}},t.prototype.equals=function(e){return e==null?W(this,re):new this.Collection(this,function(){return Pi(e)})},t.prototype.above=function(e){return e==null?W(this,re):new this.Collection(this,function(){return he(e,void 0,!0)})},t.prototype.aboveOrEqual=function(e){return e==null?W(this,re):new this.Collection(this,function(){return he(e,void 0,!1)})},t.prototype.below=function(e){return e==null?W(this,re):new this.Collection(this,function(){return he(void 0,e,!1,!0)})},t.prototype.belowOrEqual=function(e){return e==null?W(this,re):new this.Collection(this,function(){return he(void 0,e)})},t.prototype.startsWith=function(e){return typeof e!="string"?W(this,Ci):this.between(e,e+Ee,!0,!0)},t.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):wt(this,function(n,r){return n.indexOf(r[0])===0},[e],Ee)},t.prototype.equalsIgnoreCase=function(e){return wt(this,function(n,r){return n===r[0]},[e],"")},t.prototype.anyOfIgnoreCase=function(){var e=ae.apply(De,arguments);return e.length===0?Te(this):wt(this,function(n,r){return r.indexOf(n)!==-1},e,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var e=ae.apply(De,arguments);return e.length===0?Te(this):wt(this,function(n,r){return r.some(function(i){return n.indexOf(i)===0})},e,Ee)},t.prototype.anyOf=function(){var e=this,n=ae.apply(De,arguments),r=this._cmp;try{n.sort(r)}catch{return W(this,re)}if(n.length===0)return Te(this);var i=new this.Collection(this,function(){return he(n[0],n[n.length-1])});i._ondirectionchange=function(s){r=s==="next"?e._ascending:e._descending,n.sort(r)};var a=0;return i._addAlgorithm(function(s,o,u){for(var l=s.key;r(l,n[a])>0;)if(++a,a===n.length)return o(u),!1;return r(l,n[a])===0?!0:(o(function(){s.continue(n[a])}),!1)}),i},t.prototype.notEqual=function(e){return this.inAnyRange([[$n,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var e=ae.apply(De,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return W(this,re)}var n=e.reduce(function(r,i){return r?r.concat([[r[r.length-1][1],i]]):[[$n,i]]},null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(e,n){var r=this,i=this._cmp,a=this._ascending,s=this._descending,o=this._min,u=this._max;if(e.length===0)return Te(this);if(!e.every(function(v){return v[0]!==void 0&&v[1]!==void 0&&a(v[0],v[1])<=0}))return W(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",k.InvalidArgument);var l=!n||n.includeLowers!==!1,f=n&&n.includeUppers===!0;function c(v,E){for(var $=0,A=v.length;$<A;++$){var C=v[$];if(i(E[0],C[1])<0&&i(E[1],C[0])>0){C[0]=o(C[0],E[0]),C[1]=u(C[1],E[1]);break}}return $===A&&v.push(E),v}var h=a;function y(v,E){return h(v[0],E[0])}var p;try{p=e.reduce(c,[]),p.sort(y)}catch{return W(this,re)}var d=0,m=f?function(v){return a(v,p[d][1])>0}:function(v){return a(v,p[d][1])>=0},_=l?function(v){return s(v,p[d][0])>0}:function(v){return s(v,p[d][0])>=0};function w(v){return!m(v)&&!_(v)}var g=m,b=new this.Collection(this,function(){return he(p[0][0],p[p.length-1][1],!l,!f)});return b._ondirectionchange=function(v){v==="next"?(g=m,h=a):(g=_,h=s),p.sort(y)},b._addAlgorithm(function(v,E,$){for(var A=v.key;g(A);)if(++d,d===p.length)return E($),!1;return w(A)?!0:(r._cmp(A,p[d][1])===0||r._cmp(A,p[d][0])===0||E(function(){h===a?v.continue(p[d][0]):v.continue(p[d][1])}),!1)}),b},t.prototype.startsWithAnyOf=function(){var e=ae.apply(De,arguments);return e.every(function(n){return typeof n=="string"})?e.length===0?Te(this):this.inAnyRange(e.map(function(n){return[n,n+Ee]})):W(this,"startsWithAnyOf() only works with strings")},t}();function Ms(t){return yt(Di.prototype,function(n,r,i){this.db=t,this._ctx={table:n,index:r===":id"?null:r,or:i};var a=t._deps.indexedDB;if(!a)throw new k.MissingAPI;this._cmp=this._ascending=a.cmp.bind(a),this._descending=function(s,o){return a.cmp(o,s)},this._max=function(s,o){return a.cmp(s,o)>0?s:o},this._min=function(s,o){return a.cmp(s,o)<0?s:o},this._IDBKeyRange=t._deps.IDBKeyRange})}function te(t){return B(function(e){return st(e),t(e.target.error),!1})}function st(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var ot="storagemutated",ve="x-storagemutated-1",be=vt(null,ot),Is=function(){function t(){}return t.prototype._lock=function(){return Ve(!S.global),++this._reculock,this._reculock===1&&!S.global&&(S.lockOwnerFor=this),this},t.prototype._unlock=function(){if(Ve(!S.global),--this._reculock===0)for(S.global||(S.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{je(e[1],e[0])}catch{}}return this},t.prototype._locked=function(){return this._reculock&&S.lockOwnerFor!==this},t.prototype.create=function(e){var n=this;if(!this.mode)return this;var r=this.db.idbdb,i=this.db._state.dbOpenError;if(Ve(!this.idbtrans),!e&&!r)switch(i&&i.name){case"DatabaseClosedError":throw new k.DatabaseClosed(i);case"MissingAPIError":throw new k.MissingAPI(i.message,i);default:throw new k.OpenFailed(i)}if(!this.active)throw new k.TransactionInactive;return Ve(this._completion._state===null),e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),e.onerror=B(function(a){st(a),n._reject(e.error)}),e.onabort=B(function(a){st(a),n.active&&n._reject(new k.Abort(e.error)),n.active=!1,n.on("abort").fire(a)}),e.oncomplete=B(function(){n.active=!1,n._resolve(),"mutatedParts"in e&&be.storagemutated.fire(e.mutatedParts)}),this},t.prototype._promise=function(e,n,r){var i=this;if(e==="readwrite"&&this.mode!=="readwrite")return F(new k.ReadOnly("Transaction is readonly"));if(!this.active)return F(new k.TransactionInactive);if(this._locked())return new x(function(s,o){i._blockedFuncs.push([function(){i._promise(e,n,r).then(s,o)},S])});if(r)return me(function(){var s=new x(function(o,u){i._lock();var l=n(o,u,i);l&&l.then&&l.then(o,u)});return s.finally(function(){return i._unlock()}),s._lib=!0,s});var a=new x(function(s,o){var u=n(s,o,i);u&&u.then&&u.then(s,o)});return a._lib=!0,a},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(e){var n=this._root(),r=x.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function s(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=s)})()}var a=n._waitingFor;return new x(function(s,o){r.then(function(u){return n._waitingQueue.push(B(s.bind(null,u)))},function(u){return n._waitingQueue.push(B(o.bind(null,u)))}).finally(function(){n._waitingFor===a&&(n._waitingFor=null)})})},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new k.Abort))},t.prototype.table=function(e){var n=this._memoizedTables||(this._memoizedTables={});if(Y(n,e))return n[e];var r=this.schema[e];if(!r)throw new k.NotFound("Table "+e+" not part of transaction");var i=new this.db.Table(e,r,this);return i.core=this.db.core.table(e),n[e]=i,i},t}();function Bs(t){return yt(Is.prototype,function(n,r,i,a,s){var o=this;this.db=t,this.mode=n,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=a,this.idbtrans=null,this.on=vt(this,"complete","error","abort"),this.parent=s||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new x(function(u,l){o._resolve=u,o._reject=l}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(u){var l=o.active;return o.active=!1,o.on.error.fire(u),o.parent?o.parent._reject(u):l&&o.idbtrans&&o.idbtrans.abort(),F(u)})})}function Cn(t,e,n,r,i,a,s){return{name:t,keyPath:e,unique:n,multi:r,auto:i,compound:a,src:(n&&!s?"&":"")+(r?"*":"")+(i?"++":"")+Ri(e)}}function Ri(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function Oi(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:ci(n,function(r){return[r.name,r]})}}function Ns(t){return t.length===1?t[0]:t}var ut=function(t){try{return t.only([[]]),ut=function(){return[[]]},[[]]}catch{return ut=function(){return Ee},Ee}};function kn(t){return t==null?function(){}:typeof t=="string"?Fs(t):function(e){return oe(e,t)}}function Fs(t){var e=t.split(".");return e.length===1?function(n){return n[t]}:function(n){return oe(n,t)}}function kr(t){return[].slice.call(t)}var Ls=0;function Qe(t){return t==null?":id":typeof t=="string"?t:"["+t.join("+")+"]"}function js(t,e,n){function r(c,h){var y=kr(c.objectStoreNames);return{schema:{name:c.name,tables:y.map(function(p){return h.objectStore(p)}).map(function(p){var d=p.keyPath,m=p.autoIncrement,_=U(d),w=d==null,g={},b={name:p.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:w,compound:_,keyPath:d,autoIncrement:m,unique:!0,extractKey:kn(d)},indexes:kr(p.indexNames).map(function(v){return p.index(v)}).map(function(v){var E=v.name,$=v.unique,A=v.multiEntry,C=v.keyPath,T=U(C),O={name:E,compound:T,keyPath:C,unique:$,multiEntry:A,extractKey:kn(C)};return g[Qe(C)]=O,O}),getIndexByKeyPath:function(v){return g[Qe(v)]}};return g[":id"]=b.primaryKey,d!=null&&(g[Qe(d)]=b.primaryKey),b})},hasGetAll:y.length>0&&"getAll"in h.objectStore(y[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var h=c.lower,y=c.upper,p=c.lowerOpen,d=c.upperOpen,m=h===void 0?y===void 0?null:e.upperBound(y,!!d):y===void 0?e.lowerBound(h,!!p):e.bound(h,y,!!p,!!d);return m}function a(c){var h=c.name;function y(m){var _=m.trans,w=m.type,g=m.keys,b=m.values,v=m.range;return new Promise(function(E,$){E=B(E);var A=_.objectStore(h),C=A.keyPath==null,T=w==="put"||w==="add";if(!T&&w!=="delete"&&w!=="deleteRange")throw new Error("Invalid operation type: "+w);var O=(g||b||{length:1}).length;if(g&&b&&g.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(O===0)return E({numFailures:0,failures:{},results:[],lastResult:void 0});var K,R=[],j=[],P=0,G=function(ee){++P,st(ee)};if(w==="deleteRange"){if(v.type===4)return E({numFailures:P,failures:j,results:[],lastResult:void 0});v.type===3?R.push(K=A.clear()):R.push(K=A.delete(i(v)))}else{var X=T?C?[b,g]:[b,null]:[g,null],ce=X[0],Z=X[1];if(T)for(var Q=0;Q<O;++Q)R.push(K=Z&&Z[Q]!==void 0?A[w](ce[Q],Z[Q]):A[w](ce[Q])),K.onerror=G;else for(var Q=0;Q<O;++Q)R.push(K=A[w](ce[Q])),K.onerror=G}var fe=function(ee){var He=ee.target.result;R.forEach(function(q,mt){return q.error!=null&&(j[mt]=q.error)}),E({numFailures:P,failures:j,results:w==="delete"?g:R.map(function(q){return q.result}),lastResult:He})};K.onerror=function(ee){G(ee),fe(ee)},K.onsuccess=fe})}function p(m){var _=m.trans,w=m.values,g=m.query,b=m.reverse,v=m.unique;return new Promise(function(E,$){E=B(E);var A=g.index,C=g.range,T=_.objectStore(h),O=A.isPrimaryKey?T:T.index(A.name),K=b?v?"prevunique":"prev":v?"nextunique":"next",R=w||!("openKeyCursor"in O)?O.openCursor(i(C),K):O.openKeyCursor(i(C),K);R.onerror=te($),R.onsuccess=B(function(j){var P=R.result;if(!P){E(null);return}P.___id=++Ls,P.done=!1;var G=P.continue.bind(P),X=P.continuePrimaryKey;X&&(X=X.bind(P));var ce=P.advance.bind(P),Z=function(){throw new Error("Cursor not started")},Q=function(){throw new Error("Cursor not stopped")};P.trans=_,P.stop=P.continue=P.continuePrimaryKey=P.advance=Z,P.fail=B($),P.next=function(){var fe=this,ee=1;return this.start(function(){return ee--?fe.continue():fe.stop()}).then(function(){return fe})},P.start=function(fe){var ee=new Promise(function(q,mt){q=B(q),R.onerror=te(mt),P.fail=mt,P.stop=function(Fi){P.stop=P.continue=P.continuePrimaryKey=P.advance=Q,q(Fi)}}),He=function(){if(R.result)try{fe()}catch(q){P.fail(q)}else P.done=!0,P.start=function(){throw new Error("Cursor behind last entry")},P.stop()};return R.onsuccess=B(function(q){R.onsuccess=He,He()}),P.continue=G,P.continuePrimaryKey=X,P.advance=ce,He(),ee},E(P)},$)})}function d(m){return function(_){return new Promise(function(w,g){w=B(w);var b=_.trans,v=_.values,E=_.limit,$=_.query,A=E===1/0?void 0:E,C=$.index,T=$.range,O=b.objectStore(h),K=C.isPrimaryKey?O:O.index(C.name),R=i(T);if(E===0)return w({result:[]});if(m){var j=v?K.getAll(R,A):K.getAllKeys(R,A);j.onsuccess=function(ce){return w({result:ce.target.result})},j.onerror=te(g)}else{var P=0,G=v||!("openKeyCursor"in K)?K.openCursor(R):K.openKeyCursor(R),X=[];G.onsuccess=function(ce){var Z=G.result;if(!Z)return w({result:X});if(X.push(v?Z.value:Z.primaryKey),++P===E)return w({result:X});Z.continue()},G.onerror=te(g)}})}}return{name:h,schema:c,mutate:y,getMany:function(m){var _=m.trans,w=m.keys;return new Promise(function(g,b){g=B(g);for(var v=_.objectStore(h),E=w.length,$=new Array(E),A=0,C=0,T,O=function(P){var G=P.target;($[G._pos]=G.result)!=null,++C===A&&g($)},K=te(b),R=0;R<E;++R){var j=w[R];j!=null&&(T=v.get(w[R]),T._pos=R,T.onsuccess=O,T.onerror=K,++A)}A===0&&g($)})},get:function(m){var _=m.trans,w=m.key;return new Promise(function(g,b){g=B(g);var v=_.objectStore(h),E=v.get(w);E.onsuccess=function($){return g($.target.result)},E.onerror=te(b)})},query:d(u),openCursor:p,count:function(m){var _=m.query,w=m.trans,g=_.index,b=_.range;return new Promise(function(v,E){var $=w.objectStore(h),A=g.isPrimaryKey?$:$.index(g.name),C=i(b),T=C?A.count(C):A.count();T.onsuccess=B(function(O){return v(O.target.result)}),T.onerror=te(E)})}}}var s=r(t,n),o=s.schema,u=s.hasGetAll,l=o.tables.map(function(c){return a(c)}),f={};return l.forEach(function(c){return f[c.name]=c}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(c){var h=f[c];if(!h)throw new Error("Table '"+c+"' not found");return f[c]},MIN_KEY:-1/0,MAX_KEY:ut(e),schema:o}}function Hs(t,e){return e.reduce(function(n,r){var i=r.create;return D(D({},n),i(n))},t)}function Us(t,e,n,r){var i=n.IDBKeyRange;n.indexedDB;var a=Hs(js(e,i,r),t.dbcore);return{dbcore:a}}function Yn(t,e){var n=t._novip,r=e.db,i=Us(n._middlewares,r,n._deps,e);n.core=i.dbcore,n.tables.forEach(function(a){var s=a.name;n.core.schema.tables.some(function(o){return o.name===s})&&(a.core=n.core.table(s),n[s]instanceof n.Table&&(n[s].core=a.core))})}function Ft(t,e,n,r){var i=t._novip;n.forEach(function(a){var s=r[a];e.forEach(function(o){var u=Nn(o,a);(!u||"value"in u&&u.value===void 0)&&(o===i.Transaction.prototype||o instanceof i.Transaction?ue(o,a,{get:function(){return this.table(a)},set:function(l){oi(this,a,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):o[a]=new i.Table(a,s))})})}function Tn(t,e){var n=t._novip;e.forEach(function(r){for(var i in r)r[i]instanceof n.Table&&delete r[i]})}function Vs(t,e){return t._cfg.version-e._cfg.version}function zs(t,e,n,r){var i=t._dbSchema,a=t._createTransaction("readwrite",t._storeNames,i);a.create(n),a._completion.catch(r);var s=a._reject.bind(a),o=S.transless||S;me(function(){S.trans=a,S.transless=o,e===0?(N(i).forEach(function(u){Gn(n,u,i[u].primKey,i[u].indexes)}),Yn(t,n),x.follow(function(){return t.on.populate.fire(a)}).catch(s)):Ws(t,e,a,n).catch(s)})}function Ws(t,e,n,r){var i=t._novip,a=[],s=i._versions,o=i._dbSchema=Qn(i,i.idbdb,r),u=!1,l=s.filter(function(c){return c._cfg.version>=e});l.forEach(function(c){a.push(function(){var h=o,y=c._cfg.dbschema;Dn(i,h,r),Dn(i,y,r),o=i._dbSchema=y;var p=Ki(h,y);p.add.forEach(function(b){Gn(r,b[0],b[1].primKey,b[1].indexes)}),p.change.forEach(function(b){if(b.recreate)throw new k.Upgrade("Not yet support for changing primary key");var v=r.objectStore(b.name);b.add.forEach(function(E){return Pn(v,E)}),b.change.forEach(function(E){v.deleteIndex(E.name),Pn(v,E)}),b.del.forEach(function(E){return v.deleteIndex(E)})});var d=c._cfg.contentUpgrade;if(d&&c._cfg.version>e){Yn(i,r),n._memoizedTables={},u=!0;var m=fi(y);p.del.forEach(function(b){m[b]=h[b]}),Tn(i,[i.Transaction.prototype]),Ft(i,[i.Transaction.prototype],N(m),m),n.schema=m;var _=Fn(d);_&&Le();var w,g=x.follow(function(){if(w=d(n),w&&_){var b=le.bind(null,null);w.then(b,b)}});return w&&typeof w.then=="function"?x.resolve(w):g.then(function(){return w})}}),a.push(function(h){if(!u||!ws){var y=c._cfg.dbschema;Gs(y,h)}Tn(i,[i.Transaction.prototype]),Ft(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),n.schema=i._dbSchema})});function f(){return a.length?x.resolve(a.shift()(n.idbtrans)).then(f):x.resolve()}return f().then(function(){Ys(o,r)})}function Ki(t,e){var n={del:[],add:[],change:[]},r;for(r in t)e[r]||n.del.push(r);for(r in e){var i=t[r],a=e[r];if(!i)n.add.push([r,a]);else{var s={name:r,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||i.primKey.auto!==a.primKey.auto&&!zt)s.recreate=!0,n.change.push(s);else{var o=i.idxByName,u=a.idxByName,l=void 0;for(l in o)u[l]||s.del.push(l);for(l in u){var f=o[l],c=u[l];f?f.src!==c.src&&s.change.push(c):s.add.push(c)}(s.del.length>0||s.add.length>0||s.change.length>0)&&n.change.push(s)}}}return n}function Gn(t,e,n,r){var i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(a){return Pn(i,a)}),i}function Ys(t,e){N(t).forEach(function(n){e.db.objectStoreNames.contains(n)||Gn(e,n,t[n].primKey,t[n].indexes)})}function Gs(t,e){[].slice.call(e.db.objectStoreNames).forEach(function(n){return t[n]==null&&e.db.deleteObjectStore(n)})}function Pn(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Qn(t,e,n){var r={},i=Ut(e.objectStoreNames,0);return i.forEach(function(a){for(var s=n.objectStore(a),o=s.keyPath,u=Cn(Ri(o),o||"",!1,!1,!!s.autoIncrement,o&&typeof o!="string",!0),l=[],f=0;f<s.indexNames.length;++f){var c=s.index(s.indexNames[f]);o=c.keyPath;var h=Cn(c.name,o,!!c.unique,!!c.multiEntry,!1,o&&typeof o!="string",!1);l.push(h)}r[a]=Oi(a,u,l)}),r}function Qs(t,e,n){var r=t._novip;r.verno=e.version/10;var i=r._dbSchema=Qn(r,e,n);r._storeNames=Ut(e.objectStoreNames,0),Ft(r,[r._allTables],N(i),i)}function Xs(t,e){var n=Qn(t,t.idbdb,e),r=Ki(n,t._dbSchema);return!(r.add.length||r.change.some(function(i){return i.add.length||i.change.length}))}function Dn(t,e,n){for(var r=t._novip,i=n.db.objectStoreNames,a=0;a<i.length;++a){var s=i[a],o=n.objectStore(s);r._hasGetAll="getAll"in o;for(var u=0;u<o.indexNames.length;++u){var l=o.indexNames[u],f=o.index(l).keyPath,c=typeof f=="string"?f:"["+Ut(f).join("+")+"]";if(e[s]){var h=e[s].idxByName[c];h&&(h.name=l,delete e[s].idxByName[c],e[s].idxByName[l]=h)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&I.WorkerGlobalScope&&I instanceof I.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function qs(t){return t.split(",").map(function(e,n){e=e.trim();var r=e.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return Cn(r,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),U(i),n===0)})}var Js=function(){function t(){}return t.prototype._parseStoresSpec=function(e,n){N(e).forEach(function(r){if(e[r]!==null){var i=qs(e[r]),a=i.shift();if(a.multi)throw new k.Schema("Primary key cannot be multi-valued");i.forEach(function(s){if(s.auto)throw new k.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new k.Schema("Index must have a name and cannot be an empty string")}),n[r]=Oi(r,a,i)}})},t.prototype.stores=function(e){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?z(this._cfg.storesSource,e):e;var r=n._versions,i={},a={};return r.forEach(function(s){z(i,s._cfg.storesSource),a=s._cfg.dbschema={},s._parseStoresSpec(i,a)}),n._dbSchema=a,Tn(n,[n._allTables,n,n.Transaction.prototype]),Ft(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],N(a),a),n._storeNames=N(a),this},t.prototype.upgrade=function(e){return this._cfg.contentUpgrade=Hn(this._cfg.contentUpgrade||M,e),this},t}();function Zs(t){return yt(Js.prototype,function(n){this.db=t,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Xn(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new er(Wt,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function qn(t){return t&&typeof t.databases=="function"}function eo(t){var e=t.indexedDB,n=t.IDBKeyRange;return qn(e)?Promise.resolve(e.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==Wt})}):Xn(e,n).toCollection().primaryKeys()}function to(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!qn(n)&&e!==Wt&&Xn(n,r).put({name:e}).catch(M)}function no(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!qn(n)&&e!==Wt&&Xn(n,r).delete(e).catch(M)}function Rn(t){return me(function(){return S.letThrough=!0,t()})}function ro(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var e;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)})}function io(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(function(){return e.dbOpenError?F(e.dbOpenError):t});ne&&(e.openCanceller._stackHolder=Ce()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller;function i(){if(e.openCanceller!==r)throw new k.DatabaseClosed("db.open() was cancelled")}var a=e.dbReadyResolve,s=null,o=!1;return x.race([r,(typeof navigator>"u"?x.resolve():ro()).then(function(){return new x(function(u,l){if(i(),!n)throw new k.MissingAPI;var f=t.name,c=e.autoSchema?n.open(f):n.open(f,Math.round(t.verno*10));if(!c)throw new k.MissingAPI;c.onerror=te(l),c.onblocked=B(t._fireOnBlocked),c.onupgradeneeded=B(function(h){if(s=c.transaction,e.autoSchema&&!t._options.allowEmptyDB){c.onerror=st,s.abort(),c.result.close();var y=n.deleteDatabase(f);y.onsuccess=y.onerror=B(function(){l(new k.NoSuchDatabase("Database "+f+" doesnt exist"))})}else{s.onerror=te(l);var p=h.oldVersion>Math.pow(2,62)?0:h.oldVersion;o=p<1,t._novip.idbdb=c.result,zs(t,p/10,s,l)}},l),c.onsuccess=B(function(){s=null;var h=t._novip.idbdb=c.result,y=Ut(h.objectStoreNames);if(y.length>0)try{var p=h.transaction(Ns(y),"readonly");e.autoSchema?Qs(t,h,p):(Dn(t,t._dbSchema,p),Xs(t,p)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Yn(t,p)}catch{}Ge.push(t),h.onversionchange=B(function(d){e.vcFired=!0,t.on("versionchange").fire(d)}),h.onclose=B(function(d){t.on("close").fire(d)}),o&&to(t._deps,f),u()},l)})})]).then(function(){return i(),e.onReadyBeingFired=[],x.resolve(Rn(function(){return t.on.ready.fire(t.vip)})).then(function u(){if(e.onReadyBeingFired.length>0){var l=e.onReadyBeingFired.reduce(Hn,M);return e.onReadyBeingFired=[],x.resolve(Rn(function(){return l(t.vip)})).then(u)}})}).finally(function(){e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(function(){return t}).catch(function(u){e.dbOpenError=u;try{s&&s.abort()}catch{}return r===e.openCanceller&&t._close(),F(u)}).finally(function(){e.openComplete=!0,a()})}function On(t){var e=function(s){return t.next(s)},n=function(s){return t.throw(s)},r=a(e),i=a(n);function a(s){return function(o){var u=s(o),l=u.value;return u.done?l:!l||typeof l.then!="function"?U(l)?Promise.all(l).then(r,i):r(l):l.then(r,i)}}return a(e)()}function ao(t,e,n){var r=arguments.length;if(r<2)throw new k.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var a=hi(i);return[t,a,n]}function Mi(t,e,n,r,i){return x.resolve().then(function(){var a=S.transless||S,s=t._createTransaction(e,n,t._dbSchema,r),o={trans:s,transless:a};if(r)s.idbtrans=r.idbtrans;else try{s.create(),t._state.PR1398_maxLoop=3}catch(c){return c.name===jn.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return Mi(t,e,n,null,i)})):F(c)}var u=Fn(i);u&&Le();var l,f=x.follow(function(){if(l=i.call(s,s),l)if(u){var c=le.bind(null,null);l.then(c,c)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=On(l))},o);return(l&&typeof l.then=="function"?x.resolve(l).then(function(c){return s.active?c:F(new k.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):f.then(function(){return l})).then(function(c){return r&&s._resolve(),s._completion.then(function(){return c})}).catch(function(c){return s._reject(c),F(c)})})}function Et(t,e,n){for(var r=U(t)?t.slice():[t],i=0;i<n;++i)r.push(e);return r}function so(t){return D(D({},t),{table:function(e){var n=t.table(e),r=n.schema,i={},a=[];function s(d,m,_){var w=Qe(d),g=i[w]=i[w]||[],b=d==null?0:typeof d=="string"?1:d.length,v=m>0,E=D(D({},_),{isVirtual:v,keyTail:m,keyLength:b,extractKey:kn(d),unique:!v&&_.unique});if(g.push(E),E.isPrimaryKey||a.push(E),b>1){var $=b===2?d[0]:d.slice(0,b-1);s($,m+1,_)}return g.sort(function(A,C){return A.keyTail-C.keyTail}),E}var o=s(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[o];for(var u=0,l=r.indexes;u<l.length;u++){var f=l[u];s(f.keyPath,0,f)}function c(d){var m=i[Qe(d)];return m&&m[0]}function h(d,m){return{type:d.type===1?2:d.type,lower:Et(d.lower,d.lowerOpen?t.MAX_KEY:t.MIN_KEY,m),lowerOpen:!0,upper:Et(d.upper,d.upperOpen?t.MIN_KEY:t.MAX_KEY,m),upperOpen:!0}}function y(d){var m=d.query.index;return m.isVirtual?D(D({},d),{query:{index:m,range:h(d.query.range,m.keyTail)}}):d}var p=D(D({},n),{schema:D(D({},r),{primaryKey:o,indexes:a,getIndexByKeyPath:c}),count:function(d){return n.count(y(d))},query:function(d){return n.query(y(d))},openCursor:function(d){var m=d.query.index,_=m.keyTail,w=m.isVirtual,g=m.keyLength;if(!w)return n.openCursor(d);function b(v){function E(A){A!=null?v.continue(Et(A,d.reverse?t.MAX_KEY:t.MIN_KEY,_)):d.unique?v.continue(v.key.slice(0,g).concat(d.reverse?t.MIN_KEY:t.MAX_KEY,_)):v.continue()}var $=Object.create(v,{continue:{value:E},continuePrimaryKey:{value:function(A,C){v.continuePrimaryKey(Et(A,t.MAX_KEY,_),C)}},primaryKey:{get:function(){return v.primaryKey}},key:{get:function(){var A=v.key;return g===1?A[0]:A.slice(0,g)}},value:{get:function(){return v.value}}});return $}return n.openCursor(y(d)).then(function(v){return v&&b(v)})}});return p}})}var oo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:so};function Jn(t,e,n,r){return n=n||{},r=r||"",N(t).forEach(function(i){if(!Y(e,i))n[r+i]=void 0;else{var a=t[i],s=e[i];if(typeof a=="object"&&typeof s=="object"&&a&&s){var o=pn(a),u=pn(s);o!==u?n[r+i]=e[i]:o==="Object"?Jn(a,s,n,r+i+"."):a!==s&&(n[r+i]=e[i])}else a!==s&&(n[r+i]=e[i])}}),N(e).forEach(function(i){Y(t,i)||(n[r+i]=e[i])}),n}function uo(t,e){return e.type==="delete"?e.keys:e.keys||e.values.map(t.extractKey)}var lo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return D(D({},t),{table:function(e){var n=t.table(e),r=n.schema.primaryKey,i=D(D({},n),{mutate:function(a){var s=S.trans,o=s.table(e).hook,u=o.deleting,l=o.creating,f=o.updating;switch(a.type){case"add":if(l.fire===M)break;return s._promise("readwrite",function(){return c(a)},!0);case"put":if(l.fire===M&&f.fire===M)break;return s._promise("readwrite",function(){return c(a)},!0);case"delete":if(u.fire===M)break;return s._promise("readwrite",function(){return c(a)},!0);case"deleteRange":if(u.fire===M)break;return s._promise("readwrite",function(){return h(a)},!0)}return n.mutate(a);function c(p){var d=S.trans,m=p.keys||uo(r,p);if(!m)throw new Error("Keys missing");return p=p.type==="add"||p.type==="put"?D(D({},p),{keys:m}):D({},p),p.type!=="delete"&&(p.values=hn([],p.values,!0)),p.keys&&(p.keys=hn([],p.keys,!0)),co(n,p,m).then(function(_){var w=m.map(function(g,b){var v=_[b],E={onerror:null,onsuccess:null};if(p.type==="delete")u.fire.call(E,g,v,d);else if(p.type==="add"||v===void 0){var $=l.fire.call(E,g,p.values[b],d);g==null&&$!=null&&(g=$,p.keys[b]=g,r.outbound||J(p.values[b],r.keyPath,g))}else{var A=Jn(v,p.values[b]),C=f.fire.call(E,A,g,v,d);if(C){var T=p.values[b];Object.keys(C).forEach(function(O){Y(T,O)?T[O]=C[O]:J(T,O,C[O])})}}return E});return n.mutate(p).then(function(g){for(var b=g.failures,v=g.results,E=g.numFailures,$=g.lastResult,A=0;A<m.length;++A){var C=v?v[A]:m[A],T=w[A];C==null?T.onerror&&T.onerror(b[A]):T.onsuccess&&T.onsuccess(p.type==="put"&&_[A]?p.values[A]:C)}return{failures:b,results:v,numFailures:E,lastResult:$}}).catch(function(g){return w.forEach(function(b){return b.onerror&&b.onerror(g)}),Promise.reject(g)})})}function h(p){return y(p.trans,p.range,1e4)}function y(p,d,m){return n.query({trans:p,values:!1,query:{index:r,range:d},limit:m}).then(function(_){var w=_.result;return c({type:"delete",keys:w,trans:p}).then(function(g){return g.numFailures>0?Promise.reject(g.failures[0]):w.length<m?{failures:[],numFailures:0,lastResult:void 0}:y(p,D(D({},d),{lower:w[w.length-1],lowerOpen:!0}),m)})})}}});return i}})}};function co(t,e,n){return e.type==="add"?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}function Ii(t,e,n){try{if(!e||e.keys.length<t.length)return null;for(var r=[],i=0,a=0;i<e.keys.length&&a<t.length;++i)V(e.keys[i],t[a])===0&&(r.push(n?ft(e.values[i]):e.values[i]),++a);return r.length===t.length?r:null}catch{return null}}var fo={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return D(D({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var i=Ii(r.keys,r.trans._cache,r.cache==="clone");return i?x.resolve(i):n.getMany(r).then(function(a){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?ft(a):a},a})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}},on;function Zn(t){return!("from"in t)}var ie=function(t,e){if(this)z(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0});else{var n=new ie;return t&&"d"in t&&z(n,t),n}};Be(ie.prototype,(on={add:function(t){return Lt(this,t),this},addKey:function(t){return lt(this,t,t),this},addKeys:function(t){var e=this;return t.forEach(function(n){return lt(e,n,n)}),this}},on[vn]=function(){return Kn(this)},on));function lt(t,e,n){var r=V(e,n);if(!isNaN(r)){if(r>0)throw RangeError();if(Zn(t))return z(t,{from:e,to:n,d:1});var i=t.l,a=t.r;if(V(n,t.from)<0)return i?lt(i,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Tr(t);if(V(e,t.to)>0)return a?lt(a,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Tr(t);V(e,t.from)<0&&(t.from=e,t.l=null,t.d=a?a.d+1:1),V(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);var s=!t.r;i&&!t.l&&Lt(t,i),a&&s&&Lt(t,a)}}function Lt(t,e){function n(r,i){var a=i.from,s=i.to,o=i.l,u=i.r;lt(r,a,s),o&&n(r,o),u&&n(r,u)}Zn(e)||n(t,e)}function ho(t,e){var n=Kn(e),r=n.next();if(r.done)return!1;for(var i=r.value,a=Kn(t),s=a.next(i.from),o=s.value;!r.done&&!s.done;){if(V(o.from,i.to)<=0&&V(o.to,i.from)>=0)return!0;V(i.from,o.from)<0?i=(r=n.next(o.from)).value:o=(s=a.next(i.from)).value}return!1}function Kn(t){var e=Zn(t)?null:{s:0,n:t};return{next:function(n){for(var r=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&V(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||V(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Tr(t){var e,n,r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var a=i==="r"?"l":"r",s=D({},t),o=t[i];t.from=o.from,t.to=o.to,t[i]=o[i],s[i]=o[a],t[a]=s,s.d=Pr(s)}t.d=Pr(t)}function Pr(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1}var po={stack:"dbcore",level:0,create:function(t){var e=t.schema.name,n=new ie(t.MIN_KEY,t.MAX_KEY);return D(D({},t),{table:function(r){var i=t.table(r),a=i.schema,s=a.primaryKey,o=s.extractKey,u=s.outbound,l=D(D({},i),{mutate:function(h){var y=h.trans,p=y.mutatedParts||(y.mutatedParts={}),d=function($){var A="idb://"+e+"/"+r+"/"+$;return p[A]||(p[A]=new ie)},m=d(""),_=d(":dels"),w=h.type,g=h.type==="deleteRange"?[h.range]:h.type==="delete"?[h.keys]:h.values.length<50?[[],h.values]:[],b=g[0],v=g[1],E=h.trans._cache;return i.mutate(h).then(function($){if(U(b)){w!=="delete"&&(b=$.results),m.addKeys(b);var A=Ii(b,E);!A&&w!=="add"&&_.addKeys(b),(A||v)&&vo(d,a,A,v)}else if(b){var C={from:b.lower,to:b.upper};_.add(C),m.add(C)}else m.add(n),_.add(n),a.indexes.forEach(function(T){return d(T.name).add(n)});return $})}}),f=function(h){var y,p,d=h.query,m=d.index,_=d.range;return[m,new ie((y=_.lower)!==null&&y!==void 0?y:t.MIN_KEY,(p=_.upper)!==null&&p!==void 0?p:t.MAX_KEY)]},c={get:function(h){return[s,new ie(h.key)]},getMany:function(h){return[s,new ie().addKeys(h.keys)]},count:f,query:f,openCursor:f};return N(c).forEach(function(h){l[h]=function(y){var p=S.subscr;if(p){var d=function(E){var $="idb://"+e+"/"+r+"/"+E;return p[$]||(p[$]=new ie)},m=d(""),_=d(":dels"),w=c[h](y),g=w[0],b=w[1];if(d(g.name||"").add(b),!g.isPrimaryKey)if(h==="count")_.add(n);else{var v=h==="query"&&u&&y.values&&i.query(D(D({},y),{values:!1}));return i[h].apply(this,arguments).then(function(E){if(h==="query"){if(u&&y.values)return v.then(function(T){var O=T.result;return m.addKeys(O),E});var $=y.values?E.result.map(o):E.result;y.values?m.addKeys($):_.addKeys($)}else if(h==="openCursor"){var A=E,C=y.values;return A&&Object.create(A,{key:{get:function(){return _.addKey(A.primaryKey),A.key}},primaryKey:{get:function(){var T=A.primaryKey;return _.addKey(T),T}},value:{get:function(){return C&&m.addKey(A.primaryKey),A.value}}})}return E})}}return i[h].apply(this,arguments)}}),l}})}};function vo(t,e,n,r){function i(a){var s=t(a.name||"");function o(l){return l!=null?a.extractKey(l):null}var u=function(l){return a.multiEntry&&U(l)?l.forEach(function(f){return s.addKey(f)}):s.addKey(l)};(n||r).forEach(function(l,f){var c=n&&o(n[f]),h=r&&o(r[f]);V(c,h)!==0&&(c!=null&&u(c),h!=null&&u(h))})}e.indexes.forEach(i)}var er=function(){function t(e,n){var r=this;this._middlewares={},this.verno=0;var i=t.dependencies;this._options=n=D({addons:t.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var a=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:M,dbReadyPromise:null,cancelOpen:M,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};s.dbReadyPromise=new x(function(o){s.dbReadyResolve=o}),s.openCanceller=new x(function(o,u){s.cancelOpen=u}),this._state=s,this.name=e,this.on=vt(this,"populate","blocked","versionchange","close",{ready:[Hn,M]}),this.on.ready.subscribe=ui(this.on.ready.subscribe,function(o){return function(u,l){t.vip(function(){var f=r._state;if(f.openComplete)f.dbOpenError||x.resolve().then(u),l&&o(u);else if(f.onReadyBeingFired)f.onReadyBeingFired.push(u),l&&o(u);else{o(u);var c=r;l||o(function h(){c.on.ready.unsubscribe(u),c.on.ready.unsubscribe(h)})}})}}),this.Collection=Ts(this),this.Table=xs(this),this.Transaction=Bs(this),this.Version=Zs(this),this.WhereClause=Ms(this),this.on("versionchange",function(o){o.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(o){!o.newVersion||o.newVersion<o.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+o.oldVersion/10)}),this._maxKey=ut(n.IDBKeyRange),this._createTransaction=function(o,u,l,f){return new r.Transaction(o,u,l,r._options.chromeTransactionDurability,f)},this._fireOnBlocked=function(o){r.on("blocked").fire(o),Ge.filter(function(u){return u.name===r.name&&u!==r&&!u._state.vcFired}).map(function(u){return u.on("versionchange").fire(o)})},this.use(oo),this.use(lo),this.use(po),this.use(fo),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach(function(o){return o(r)})}return t.prototype.version=function(e){if(isNaN(e)||e<.1)throw new k.Type("Given version is not a positive number");if(e=Math.round(e*10)/10,this.idbdb||this._state.isBeingOpened)throw new k.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=this._versions,r=n.filter(function(i){return i._cfg.version===e})[0];return r||(r=new this.Version(e),n.push(r),n.sort(Vs),r.stores({}),this._state.autoSchema=!1,r)},t.prototype._whenReady=function(e){var n=this;return this.idbdb&&(this._state.openComplete||S.letThrough||this._vip)?e():new x(function(r,i){if(n._state.openComplete)return i(new k.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen){i(new k.DatabaseClosed);return}n.open().catch(M)}n._state.dbReadyPromise.then(r,i)}).then(e)},t.prototype.use=function(e){var n=e.stack,r=e.create,i=e.level,a=e.name;a&&this.unuse({stack:n,name:a});var s=this._middlewares[n]||(this._middlewares[n]=[]);return s.push({stack:n,create:r,level:i==null?10:i,name:a}),s.sort(function(o,u){return o.level-u.level}),this},t.prototype.unuse=function(e){var n=e.stack,r=e.name,i=e.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(a){return i?a.create!==i:r?a.name!==r:!1})),this},t.prototype.open=function(){return io(this)},t.prototype._close=function(){var e=this._state,n=Ge.indexOf(this);if(n>=0&&Ge.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new x(function(r){e.dbReadyResolve=r}),e.openCanceller=new x(function(r,i){e.cancelOpen=i})},t.prototype.close=function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new k.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)},t.prototype.delete=function(){var e=this,n=arguments.length>0,r=this._state;return new x(function(i,a){var s=function(){e.close();var o=e._deps.indexedDB.deleteDatabase(e.name);o.onsuccess=B(function(){no(e._deps,e.name),i()}),o.onerror=te(a),o.onblocked=e._fireOnBlocked};if(n)throw new k.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(s):s()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var e=this;return N(this._allTables).map(function(n){return e._allTables[n]})},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var e=ao.apply(this,arguments);return this._transaction.apply(this,e)},t.prototype._transaction=function(e,n,r){var i=this,a=S.trans;(!a||a.db!==this||e.indexOf("!")!==-1)&&(a=null);var s=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");var o,u;try{if(u=n.map(function(f){var c=f instanceof i.Table?f.name:f;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),e=="r"||e===tn)o=tn;else if(e=="rw"||e==nn)o=nn;else throw new k.InvalidArgument("Invalid transaction mode: "+e);if(a){if(a.mode===tn&&o===nn)if(s)a=null;else throw new k.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");a&&u.forEach(function(f){if(a&&a.storeNames.indexOf(f)===-1)if(s)a=null;else throw new k.SubTransaction("Table "+f+" not included in parent transaction.")}),s&&a&&!a.active&&(a=null)}}catch(f){return a?a._promise(null,function(c,h){h(f)}):F(f)}var l=Mi.bind(null,this,o,u,a,r);return a?a._promise(o,l,"lock"):S.trans?je(S.transless,function(){return i._whenReady(l)}):this._whenReady(l)},t.prototype.table=function(e){if(!Y(this._allTables,e))throw new k.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},t}(),yo=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",mo=function(){function t(e){this._subscribe=e}return t.prototype.subscribe=function(e,n,r){return this._subscribe(!e||typeof e=="function"?{next:e,error:n,complete:r}:e)},t.prototype[yo]=function(){return this},t}();function Bi(t,e){return N(e).forEach(function(n){var r=t[n]||(t[n]=new ie);Lt(r,e[n])}),t}function go(t){return new mo(function(e){var n=Fn(t);function r(y){n&&Le();var p=function(){return me(t,{subscr:y,trans:null})},d=S.trans?je(S.transless,p):p();return n&&d.then(le,le),d}var i=!1,a={},s={},o={get closed(){return i},unsubscribe:function(){i=!0,be.storagemutated.unsubscribe(c)}};e.start&&e.start(o);var u=!1,l=!1;function f(){return N(s).some(function(y){return a[y]&&ho(a[y],s[y])})}var c=function(y){Bi(a,y),f()&&h()},h=function(){if(!(u||i)){a={};var y={},p=r(y);l||(be(ot,c),l=!0),u=!0,Promise.resolve(p).then(function(d){u=!1,!i&&(f()?h():(a={},s=y,e.next&&e.next(d)))},function(d){u=!1,e.error&&e.error(d),o.unsubscribe()})}};return h(),o})}var Mn;try{Mn={indexedDB:I.indexedDB||I.mozIndexedDB||I.webkitIndexedDB||I.msIndexedDB,IDBKeyRange:I.IDBKeyRange||I.webkitIDBKeyRange}}catch{Mn={indexedDB:null,IDBKeyRange:null}}var we=er;Be(we,D(D({},Vt),{delete:function(t){var e=new we(t,{addons:[]});return e.delete()},exists:function(t){return new we(t,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return eo(we.dependencies).then(t)}catch{return F(new k.MissingAPI)}},defineClass:function(){function t(e){z(this,e)}return t},ignoreTransaction:function(t){return S.trans?je(S.transless,t):t()},vip:Rn,async:function(t){return function(){try{var e=On(t.apply(this,arguments));return!e||typeof e.then!="function"?x.resolve(e):e}catch(n){return F(n)}}},spawn:function(t,e,n){try{var r=On(t.apply(n,e||[]));return!r||typeof r.then!="function"?x.resolve(r):r}catch(i){return F(i)}},currentTransaction:{get:function(){return S.trans||null}},waitFor:function(t,e){var n=x.resolve(typeof t=="function"?we.ignoreTransaction(t):t).timeout(e||6e4);return S.trans?S.trans.waitFor(n):n},Promise:x,debug:{get:function(){return ne},set:function(t){pi(t,t==="dexie"?function(){return!0}:ki)}},derive:Ne,extend:z,props:Be,override:ui,Events:vt,on:be,liveQuery:go,extendObservabilitySet:Bi,getByKeyPath:oe,setByKeyPath:J,delByKeyPath:Qa,shallowClone:fi,deepClone:ft,getObjectDiff:Jn,cmp:V,asap:li,minKey:$n,addons:[],connections:Ge,errnames:jn,dependencies:Mn,semVer:Ar,version:Ar.split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,n*2)})}));we.maxKey=ut(we.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(be(ot,function(t){if(!se){var e;zt?(e=document.createEvent("CustomEvent"),e.initCustomEvent(ve,!0,!0,t)):e=new CustomEvent(ve,{detail:t}),se=!0,dispatchEvent(e),se=!1}}),addEventListener(ve,function(t){var e=t.detail;se||jt(e)}));function jt(t){var e=se;try{se=!0,be.storagemutated.fire(t)}finally{se=e}}var se=!1;if(typeof BroadcastChannel<"u"){var Dr=new BroadcastChannel(ve);be(ot,function(t){se||Dr.postMessage(t)}),Dr.onmessage=function(t){t.data&&jt(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){be(ot,function(t){try{se||(typeof localStorage<"u"&&localStorage.setItem(ve,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&hn([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(e){return e.postMessage({type:ve,changedParts:t})}))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",function(t){if(t.key===ve){var e=JSON.parse(t.newValue);e&&jt(e.changedParts)}});var Rr=self.document&&navigator.serviceWorker;Rr&&Rr.addEventListener("message",bo)}function bo(t){var e=t.data;e&&e.type===ve&&jt(e.changedParts)}x.rejectionMapper=is;pi(ne,ki);class _o extends er{constructor(){super("VirMcMapperDatabase");Yt(this,"minecraftWorlds");Yt(this,"minecraftBlockNames");this.version(1).stores({minecraftWorlds:"&name, &blocks.x, &blocks.y, &blocks.z",minecraftBlockNames:"++index, &blockName"})}}const wo=new _o;async function Eo(){const t=await wo.minecraftBlockNames.toArray();return Ao(t)}function Ao(t){const e={},n={};return t.forEach(r=>{e[r.index]=r.blockName,n[r.blockName]=r.index}),{byIndex:e,byName:n}}function xo(t,e){t.postMessage(e)}const So="src/parser/parser-worker/parser-worker.ts";function $o(t,e){const n=new Worker(So,{type:"module",name:t});return n.onerror=r=>{console.error(`${t} worker encountered an error: ${r}`)},n.onmessageerror=r=>{console.error(`${t} worker encountered a message error: ${r}`)},n.onmessage=e,n}var Ni=(t=>(t.StartReadingFiles="start-reading-files",t.StartExtractingBlocks="start-extracting-blocks",t.ProgressReport="progress-report",t))(Ni||{});function un(t){return e=>{const n=e.data;return ri(n,t),n}}ai()({["start-extracting-blocks"]:un({type:"start-extracting-blocks",minecraftVersion:Rt.java[1][19][2],blockNames:{byIndex:{0:""},byName:{"":5}},mcaFile:new File([],""),parseGroupSize:0,worldName:""}),["start-reading-files"]:un({type:"start-reading-files",minecraftVersion:Rt.java[1][19][2],mcaFile:new File([],""),blockNames:{byIndex:{},byName:{}},worldName:"",coreCount:0}),["progress-report"]:un({type:"progress-report",current:0,total:0})});async function Co({files:t,coreCount:e,worldName:n,minecraftVersion:r}){const i=await Eo(),a=$o("main-worker",s=>{console.log(s)});xo(a,{type:Ni.StartReadingFiles,blockNames:i,coreCount:e,mcaFile:t[0],minecraftVersion:r,worldName:n})}Wr({tagName:"vir-app",stateInit:{progress:void 0,coreCount:window.navigator.hardwareConcurrency-1},styles:Ba`
        :host {
            display: flex;
            padding: 64px;
        }

        .progress {
            height: 16px;
            width: 200px;
            position: relative;
            box-sizing: border-box;
            border: 1px solid red;
        }

        .inner-div {
            height: 100%;
            box-sizing: border-box;
            background-color: black;
        }
    `,renderCallback:({state:t,updateState:e})=>mr`
            ${t.progress==null?"":mr`
                      <div class="progress">
                          <div class="inner-div" style="width: ${t.progress}%"></div>
                      </div>
                  `}
            <input
                ${Ta("change",n=>ko(n,e,t.coreCount))}
                type="file"
                id="fileElem"
                multiple
            />
        `});async function ko(t,e,n){const r=t.target,i=Array.from(r.files||[]);if(!i.length)throw new Error("No files were selected");Co({coreCount:n,files:i,minecraftVersion:Rt.java[1][19][2],worldName:""})}
